const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ClinicalChat-Bjf1wcga.js","assets/utils-i8GW8JaD.js","assets/BackButton-BxVvuakz.js","assets/refresh-cw-96AACFWb.js","assets/trash-2-FWDW7VKX.js","assets/DiagnosisStep1-D0qP6kTj.js","assets/DiagnosisScreenLayout-BrpmvJm-.js","assets/calendar-CIaxhbkj.js","assets/DiagnosisStep2-DakkdjQ1.js","assets/symptoms-CdoBxL72.js","assets/DiagnosisStep2Urinary-BaN1tZq7.js","assets/DiagnosisStep2Prolapse-BAb8OJQ1.js","assets/DiagnosisStep2Sexual-BbUb1aBz.js","assets/DiagnosisStep2Male-Bmb34U-D.js","assets/DiagnosisStep2Trans-e2uJAw_4.js","assets/DiagnosisAnalysis-AvsKh7bz.js","assets/brain-23wKsOr2.js","assets/DiagnosisStep3-CHn3ZeFB.js","assets/circle-check-6bmBS9Y8.js","assets/pdfGenerator-BWuW8Nor.js","assets/trending-up-DwCRwp1i.js","assets/AITreatmentPlan-BWw2Fedo.js","assets/ExerciseDetail-Ca8qRFEI.js","assets/ProfileScreen-D_WlQF38.js"])))=>i.map(i=>d[i]);
function Dh(i,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function zs(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),n}var gl={exports:{}},As={},ml={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function rm(){if(Wd)return he;Wd=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function j(E,A,ae){this.props=E,this.context=A,this.refs=P,this.updater=ae||k}j.prototype.isReactComponent={},j.prototype.setState=function(E,A){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,A,"setState")},j.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function I(){}I.prototype=j.prototype;function U(E,A,ae){this.props=E,this.context=A,this.refs=P,this.updater=ae||k}var R=U.prototype=new I;R.constructor=U,C(R,j.prototype),R.isPureReactComponent=!0;var F=Array.isArray,V=Object.prototype.hasOwnProperty,J={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function oe(E,A,ae){var ue,ce={},le=null,ve=null;if(A!=null)for(ue in A.ref!==void 0&&(ve=A.ref),A.key!==void 0&&(le=""+A.key),A)V.call(A,ue)&&!Z.hasOwnProperty(ue)&&(ce[ue]=A[ue]);var me=arguments.length-2;if(me===1)ce.children=ae;else if(1<me){for(var xe=Array(me),nt=0;nt<me;nt++)xe[nt]=arguments[nt+2];ce.children=xe}if(E&&E.defaultProps)for(ue in me=E.defaultProps,me)ce[ue]===void 0&&(ce[ue]=me[ue]);return{$$typeof:i,type:E,key:le,ref:ve,props:ce,_owner:J.current}}function we(E,A){return{$$typeof:i,type:E.type,key:A,ref:E.ref,props:E.props,_owner:E._owner}}function fe(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Re(E){var A={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ae){return A[ae]})}var St=/\/+/g;function Fe(E,A){return typeof E=="object"&&E!==null&&E.key!=null?Re(""+E.key):A.toString(36)}function ot(E,A,ae,ue,ce){var le=typeof E;(le==="undefined"||le==="boolean")&&(E=null);var ve=!1;if(E===null)ve=!0;else switch(le){case"string":case"number":ve=!0;break;case"object":switch(E.$$typeof){case i:case r:ve=!0}}if(ve)return ve=E,ce=ce(ve),E=ue===""?"."+Fe(ve,0):ue,F(ce)?(ae="",E!=null&&(ae=E.replace(St,"$&/")+"/"),ot(ce,A,ae,"",function(nt){return nt})):ce!=null&&(fe(ce)&&(ce=we(ce,ae+(!ce.key||ve&&ve.key===ce.key?"":(""+ce.key).replace(St,"$&/")+"/")+E)),A.push(ce)),1;if(ve=0,ue=ue===""?".":ue+":",F(E))for(var me=0;me<E.length;me++){le=E[me];var xe=ue+Fe(le,me);ve+=ot(le,A,ae,xe,ce)}else if(xe=_(E),typeof xe=="function")for(E=xe.call(E),me=0;!(le=E.next()).done;)le=le.value,xe=ue+Fe(le,me++),ve+=ot(le,A,ae,xe,ce);else if(le==="object")throw A=String(E),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ve}function rt(E,A,ae){if(E==null)return E;var ue=[],ce=0;return ot(E,ue,"","",function(le){return A.call(ae,le,ce++)}),ue}function He(E){if(E._status===-1){var A=E._result;A=A(),A.then(function(ae){(E._status===0||E._status===-1)&&(E._status=1,E._result=ae)},function(ae){(E._status===0||E._status===-1)&&(E._status=2,E._result=ae)}),E._status===-1&&(E._status=0,E._result=A)}if(E._status===1)return E._result.default;throw E._result}var _e={current:null},B={transition:null},ne={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:B,ReactCurrentOwner:J};function q(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:rt,forEach:function(E,A,ae){rt(E,function(){A.apply(this,arguments)},ae)},count:function(E){var A=0;return rt(E,function(){A++}),A},toArray:function(E){return rt(E,function(A){return A})||[]},only:function(E){if(!fe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},he.Component=j,he.Fragment=n,he.Profiler=l,he.PureComponent=U,he.StrictMode=o,he.Suspense=g,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,he.act=q,he.cloneElement=function(E,A,ae){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ue=C({},E.props),ce=E.key,le=E.ref,ve=E._owner;if(A!=null){if(A.ref!==void 0&&(le=A.ref,ve=J.current),A.key!==void 0&&(ce=""+A.key),E.type&&E.type.defaultProps)var me=E.type.defaultProps;for(xe in A)V.call(A,xe)&&!Z.hasOwnProperty(xe)&&(ue[xe]=A[xe]===void 0&&me!==void 0?me[xe]:A[xe])}var xe=arguments.length-2;if(xe===1)ue.children=ae;else if(1<xe){me=Array(xe);for(var nt=0;nt<xe;nt++)me[nt]=arguments[nt+2];ue.children=me}return{$$typeof:i,type:E.type,key:ce,ref:le,props:ue,_owner:ve}},he.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},he.createElement=oe,he.createFactory=function(E){var A=oe.bind(null,E);return A.type=E,A},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:p,render:E}},he.isValidElement=fe,he.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:He}},he.memo=function(E,A){return{$$typeof:y,type:E,compare:A===void 0?null:A}},he.startTransition=function(E){var A=B.transition;B.transition={};try{E()}finally{B.transition=A}},he.unstable_act=q,he.useCallback=function(E,A){return _e.current.useCallback(E,A)},he.useContext=function(E){return _e.current.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E){return _e.current.useDeferredValue(E)},he.useEffect=function(E,A){return _e.current.useEffect(E,A)},he.useId=function(){return _e.current.useId()},he.useImperativeHandle=function(E,A,ae){return _e.current.useImperativeHandle(E,A,ae)},he.useInsertionEffect=function(E,A){return _e.current.useInsertionEffect(E,A)},he.useLayoutEffect=function(E,A){return _e.current.useLayoutEffect(E,A)},he.useMemo=function(E,A){return _e.current.useMemo(E,A)},he.useReducer=function(E,A,ae){return _e.current.useReducer(E,A,ae)},he.useRef=function(E){return _e.current.useRef(E)},he.useState=function(E){return _e.current.useState(E)},he.useSyncExternalStore=function(E,A,ae){return _e.current.useSyncExternalStore(E,A,ae)},he.useTransition=function(){return _e.current.useTransition()},he.version="18.3.1",he}var Vd;function Gl(){return Vd||(Vd=1,ml.exports=rm()),ml.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function nm(){if(qd)return As;qd=1;var i=Gl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,g,y){var v,S={},_=null,k=null;y!==void 0&&(_=""+y),g.key!==void 0&&(_=""+g.key),g.ref!==void 0&&(k=g.ref);for(v in g)o.call(g,v)&&!u.hasOwnProperty(v)&&(S[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)S[v]===void 0&&(S[v]=g[v]);return{$$typeof:r,type:p,key:_,ref:k,props:S,_owner:l.current}}return As.Fragment=n,As.jsx=d,As.jsxs=d,As}var Hd;function sm(){return Hd||(Hd=1,gl.exports=nm()),gl.exports}var f=sm(),so={},yl={exports:{}},ft={},vl={exports:{}},wl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function im(){return Kd||(Kd=1,(function(i){function r(B,ne){var q=B.length;B.push(ne);e:for(;0<q;){var E=q-1>>>1,A=B[E];if(0<l(A,ne))B[E]=ne,B[q]=A,q=E;else break e}}function n(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var ne=B[0],q=B.pop();if(q!==ne){B[0]=q;e:for(var E=0,A=B.length,ae=A>>>1;E<ae;){var ue=2*(E+1)-1,ce=B[ue],le=ue+1,ve=B[le];if(0>l(ce,q))le<A&&0>l(ve,ce)?(B[E]=ve,B[le]=q,E=le):(B[E]=ce,B[ue]=q,E=ue);else if(le<A&&0>l(ve,q))B[E]=ve,B[le]=q,E=le;else break e}}return ne}function l(B,ne){var q=B.sortIndex-ne.sortIndex;return q!==0?q:B.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],y=[],v=1,S=null,_=3,k=!1,C=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(B){for(var ne=n(y);ne!==null;){if(ne.callback===null)o(y);else if(ne.startTime<=B)o(y),ne.sortIndex=ne.expirationTime,r(g,ne);else break;ne=n(y)}}function F(B){if(P=!1,R(B),!C)if(n(g)!==null)C=!0,He(V);else{var ne=n(y);ne!==null&&_e(F,ne.startTime-B)}}function V(B,ne){C=!1,P&&(P=!1,I(oe),oe=-1),k=!0;var q=_;try{for(R(ne),S=n(g);S!==null&&(!(S.expirationTime>ne)||B&&!Re());){var E=S.callback;if(typeof E=="function"){S.callback=null,_=S.priorityLevel;var A=E(S.expirationTime<=ne);ne=i.unstable_now(),typeof A=="function"?S.callback=A:S===n(g)&&o(g),R(ne)}else o(g);S=n(g)}if(S!==null)var ae=!0;else{var ue=n(y);ue!==null&&_e(F,ue.startTime-ne),ae=!1}return ae}finally{S=null,_=q,k=!1}}var J=!1,Z=null,oe=-1,we=5,fe=-1;function Re(){return!(i.unstable_now()-fe<we)}function St(){if(Z!==null){var B=i.unstable_now();fe=B;var ne=!0;try{ne=Z(!0,B)}finally{ne?Fe():(J=!1,Z=null)}}else J=!1}var Fe;if(typeof U=="function")Fe=function(){U(St)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,rt=ot.port2;ot.port1.onmessage=St,Fe=function(){rt.postMessage(null)}}else Fe=function(){j(St,0)};function He(B){Z=B,J||(J=!0,Fe())}function _e(B,ne){oe=j(function(){B(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){C||k||(C=!0,He(V))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(B){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var q=_;_=ne;try{return B()}finally{_=q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=_;_=B;try{return ne()}finally{_=q}},i.unstable_scheduleCallback=function(B,ne,q){var E=i.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?E+q:E):q=E,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,B={id:v++,callback:ne,priorityLevel:B,startTime:q,expirationTime:A,sortIndex:-1},q>E?(B.sortIndex=q,r(y,B),n(g)===null&&B===n(y)&&(P?(I(oe),oe=-1):P=!0,_e(F,q-E))):(B.sortIndex=A,r(g,B),C||k||(C=!0,He(V))),B},i.unstable_shouldYield=Re,i.unstable_wrapCallback=function(B){var ne=_;return function(){var q=_;_=ne;try{return B.apply(this,arguments)}finally{_=q}}}})(wl)),wl}var Gd;function om(){return Gd||(Gd=1,vl.exports=im()),vl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function am(){if(Jd)return ft;Jd=1;var i=Gl(),r=om();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function _(e){return g.call(S,e)?!0:g.call(v,e)?!1:y.test(e)?S[e]=!0:(v[e]=!0,!1)}function k(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,s,a){if(t===null||typeof t>"u"||k(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,s,a,c,h,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=m}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,U);j[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,U);j[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,U);j[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,t,s,a){var c=j.hasOwnProperty(t)?j[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,s,c,a)&&(s=null),a||c===null?_(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(t=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(t):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var F=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),Re=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),B=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,E;function A(e){if(E===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var ae=!1;function ue(e,t){if(!e||ae)return"";ae=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var a=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){a=N}e.call(t.prototype)}else{try{throw Error()}catch(N){a=N}e()}}catch(N){if(N&&a&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),h=a.stack.split(`
`),m=c.length-1,w=h.length-1;1<=m&&0<=w&&c[m]!==h[w];)w--;for(;1<=m&&0<=w;m--,w--)if(c[m]!==h[w]){if(m!==1||w!==1)do if(m--,w--,0>w||c[m]!==h[w]){var x=`
`+c[m].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=m&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?A(e):""}function ce(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Portal";case we:return"Profiler";case oe:return"StrictMode";case Fe:return"Suspense";case ot:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Re:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case St:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rt:return t=e.displayName||null,t!==null?t:le(e.type)||"Memo";case He:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(t);case 8:return t===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nt(e){var t=xe(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,h.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xr(e){e._valueTracker||(e._valueTracker=nt(e))}function Vs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=xe(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Un(e,t){var s=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Mn(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=me(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qs(e,t){t=t.checked,t!=null&&R(e,"checked",t,!1)}function Bn(e,t){qs(e,t);var s=me(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zn(e,t.type,s):t.hasOwnProperty("defaultValue")&&zn(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hs(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function zn(e,t,s){(t!=="number"||Zr(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Tr=Array.isArray;function ir(e,t,s,a){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+me(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Fn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ks(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(Tr(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:me(s)}}function Gs(e,t){var s=me(t.value),a=me(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Js(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qs(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var en,Vn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(en=en||document.createElement("div"),en.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=en.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Or(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];Object.keys(ee).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ee[t]=ee[e]})});function at(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ee.hasOwnProperty(e)&&ee[e]?(""+t).trim():t+"px"}function $e(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=at(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var qn=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(qn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Hn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function Gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jn=null,tn=null,rn=null;function ou(e){if(e=ys(e)){if(typeof Jn!="function")throw Error(n(280));var t=e.stateNode;t&&(t=wi(t),Jn(e.stateNode,e.type,t))}}function au(e){tn?rn?rn.push(e):rn=[e]:tn=e}function lu(){if(tn){var e=tn,t=rn;if(rn=tn=null,ou(e),t)for(e=0;e<t.length;e++)ou(t[e])}}function uu(e,t){return e(t)}function cu(){}var Ao=!1;function du(e,t,s){if(Ao)return e(t,s);Ao=!0;try{return uu(e,t,s)}finally{Ao=!1,(tn!==null||rn!==null)&&(cu(),lu())}}function Qn(e,t){var s=e.stateNode;if(s===null)return null;var a=wi(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Ro=!1;if(p)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Ro=!1}function lp(e,t,s,a,c,h,m,w,x){var N=Array.prototype.slice.call(arguments,3);try{t.apply(s,N)}catch($){this.onError($)}}var Xn=!1,Ys=null,Xs=!1,Io=null,up={onError:function(e){Xn=!0,Ys=e}};function cp(e,t,s,a,c,h,m,w,x){Xn=!1,Ys=null,lp.apply(up,arguments)}function dp(e,t,s,a,c,h,m,w,x){if(cp.apply(this,arguments),Xn){if(Xn){var N=Ys;Xn=!1,Ys=null}else throw Error(n(198));Xs||(Xs=!0,Io=N)}}function Pr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function hu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(Pr(e)!==e)throw Error(n(188))}function hp(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,a=t;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return fu(c),e;if(h===a)return fu(c),t;h=h.sibling}throw Error(n(188))}if(s.return!==a.return)s=c,a=h;else{for(var m=!1,w=c.child;w;){if(w===s){m=!0,s=c,a=h;break}if(w===a){m=!0,a=c,s=h;break}w=w.sibling}if(!m){for(w=h.child;w;){if(w===s){m=!0,s=h,a=c;break}if(w===a){m=!0,a=h,s=c;break}w=w.sibling}if(!m)throw Error(n(189))}}if(s.alternate!==a)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function pu(e){return e=hp(e),e!==null?gu(e):null}function gu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gu(e);if(t!==null)return t;e=e.sibling}return null}var mu=r.unstable_scheduleCallback,yu=r.unstable_cancelCallback,fp=r.unstable_shouldYield,pp=r.unstable_requestPaint,Ie=r.unstable_now,gp=r.unstable_getCurrentPriorityLevel,Lo=r.unstable_ImmediatePriority,vu=r.unstable_UserBlockingPriority,Zs=r.unstable_NormalPriority,mp=r.unstable_LowPriority,wu=r.unstable_IdlePriority,ei=null,Bt=null;function yp(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ei,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:_p,vp=Math.log,wp=Math.LN2;function _p(e){return e>>>=0,e===0?32:31-(vp(e)/wp|0)|0}var ti=64,ri=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,m=s&268435455;if(m!==0){var w=m&~c;w!==0?a=Zn(w):(h&=m,h!==0&&(a=Zn(h)))}else m=s&~c,m!==0?a=Zn(m):h!==0&&(a=Zn(h));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-Pt(t),c=1<<s,a|=e[s],t&=~c;return a}function xp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var m=31-Pt(h),w=1<<m,x=c[m];x===-1?((w&s)===0||(w&a)!==0)&&(c[m]=xp(w,t)):x<=t&&(e.expiredLanes|=w),h&=~w}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _u(){var e=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),e}function Do(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function es(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=s}function Sp(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Pt(s),h=1<<c;t[c]=0,a[c]=-1,e[c]=-1,s&=~h}}function Uo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Pt(s),c=1<<a;c&t|e[a]&t&&(e[a]|=t),s&=~c}}var ye=0;function xu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ku,Mo,Su,bu,Eu,Bo=!1,si=[],or=null,ar=null,lr=null,ts=new Map,rs=new Map,ur=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(e,t){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function ns(e,t,s,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},t!==null&&(t=ys(t),t!==null&&Mo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ep(e,t,s,a,c){switch(t){case"focusin":return or=ns(or,e,t,s,a,c),!0;case"dragenter":return ar=ns(ar,e,t,s,a,c),!0;case"mouseover":return lr=ns(lr,e,t,s,a,c),!0;case"pointerover":var h=c.pointerId;return ts.set(h,ns(ts.get(h)||null,e,t,s,a,c)),!0;case"gotpointercapture":return h=c.pointerId,rs.set(h,ns(rs.get(h)||null,e,t,s,a,c)),!0}return!1}function Cu(e){var t=Nr(e.target);if(t!==null){var s=Pr(t);if(s!==null){if(t=s.tag,t===13){if(t=hu(s),t!==null){e.blockedOn=t,Eu(e.priority,function(){Su(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Kn=a,s.target.dispatchEvent(a),Kn=null}else return t=ys(s),t!==null&&Mo(t),e.blockedOn=s,!1;t.shift()}return!0}function Tu(e,t,s){ii(e)&&s.delete(t)}function jp(){Bo=!1,or!==null&&ii(or)&&(or=null),ar!==null&&ii(ar)&&(ar=null),lr!==null&&ii(lr)&&(lr=null),ts.forEach(Tu),rs.forEach(Tu)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Bo||(Bo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jp)))}function is(e){function t(c){return ss(c,e)}if(0<si.length){ss(si[0],e);for(var s=1;s<si.length;s++){var a=si[s];a.blockedOn===e&&(a.blockedOn=null)}}for(or!==null&&ss(or,e),ar!==null&&ss(ar,e),lr!==null&&ss(lr,e),ts.forEach(t),rs.forEach(t),s=0;s<ur.length;s++)a=ur[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<ur.length&&(s=ur[0],s.blockedOn===null);)Cu(s),s.blockedOn===null&&ur.shift()}var nn=F.ReactCurrentBatchConfig,oi=!0;function Cp(e,t,s,a){var c=ye,h=nn.transition;nn.transition=null;try{ye=1,zo(e,t,s,a)}finally{ye=c,nn.transition=h}}function Tp(e,t,s,a){var c=ye,h=nn.transition;nn.transition=null;try{ye=4,zo(e,t,s,a)}finally{ye=c,nn.transition=h}}function zo(e,t,s,a){if(oi){var c=Fo(e,t,s,a);if(c===null)ia(e,t,a,ai,s),ju(e,a);else if(Ep(c,e,t,s,a))a.stopPropagation();else if(ju(e,a),t&4&&-1<bp.indexOf(e)){for(;c!==null;){var h=ys(c);if(h!==null&&ku(h),h=Fo(e,t,s,a),h===null&&ia(e,t,a,ai,s),h===c)break;c=h}c!==null&&a.stopPropagation()}else ia(e,t,a,null,s)}}var ai=null;function Fo(e,t,s,a){if(ai=null,e=Gn(a),e=Nr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=hu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function Ou(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gp()){case Lo:return 1;case vu:return 4;case Zs:case mp:return 16;case wu:return 536870912;default:return 16}default:return 16}}var cr=null,Wo=null,li=null;function Pu(){if(li)return li;var e,t=Wo,s=t.length,a,c="value"in cr?cr.value:cr.textContent,h=c.length;for(e=0;e<s&&t[e]===c[e];e++);var m=s-e;for(a=1;a<=m&&t[s-a]===c[h-a];a++);return li=c.slice(e,1<a?1-a:void 0)}function ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function Nu(){return!1}function yt(e){function t(s,a,c,h,m){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ci:Nu,this.isPropagationStopped=Nu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=yt(sn),os=q({},sn,{view:0,detail:0}),Op=yt(os),qo,Ho,as,di=q({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(qo=e.screenX-as.screenX,Ho=e.screenY-as.screenY):Ho=qo=0,as=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Ho}}),Au=yt(di),Pp=q({},di,{dataTransfer:0}),Np=yt(Pp),Ap=q({},os,{relatedTarget:0}),Ko=yt(Ap),Rp=q({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=yt(Rp),Lp=q({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$p=yt(Lp),Dp=q({},sn,{data:0}),Ru=yt(Dp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bp[e])?!!t[e]:!1}function Go(){return zp}var Fp=q({},os,{key:function(e){if(e.key){var t=Up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=yt(Fp),Vp=q({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=yt(Vp),qp=q({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),Hp=yt(qp),Kp=q({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=yt(Kp),Jp=q({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qp=yt(Jp),Yp=[9,13,27,32],Jo=p&&"CompositionEvent"in window,ls=null;p&&"documentMode"in document&&(ls=document.documentMode);var Xp=p&&"TextEvent"in window&&!ls,Lu=p&&(!Jo||ls&&8<ls&&11>=ls),$u=" ",Du=!1;function Uu(e,t){switch(e){case"keyup":return Yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var on=!1;function Zp(e,t){switch(e){case"compositionend":return Mu(t);case"keypress":return t.which!==32?null:(Du=!0,$u);case"textInput":return e=t.data,e===$u&&Du?null:e;default:return null}}function eg(e,t){if(on)return e==="compositionend"||!Jo&&Uu(e,t)?(e=Pu(),li=Wo=cr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lu&&t.locale!=="ko"?null:t.data;default:return null}}var tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tg[e.type]:t==="textarea"}function zu(e,t,s,a){au(a),t=mi(t,"onChange"),0<t.length&&(s=new Vo("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var us=null,cs=null;function rg(e){ic(e,0)}function hi(e){var t=dn(e);if(Vs(t))return e}function ng(e,t){if(e==="change")return t}var Fu=!1;if(p){var Qo;if(p){var Yo="oninput"in document;if(!Yo){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),Yo=typeof Wu.oninput=="function"}Qo=Yo}else Qo=!1;Fu=Qo&&(!document.documentMode||9<document.documentMode)}function Vu(){us&&(us.detachEvent("onpropertychange",qu),cs=us=null)}function qu(e){if(e.propertyName==="value"&&hi(cs)){var t=[];zu(t,cs,e,Gn(e)),du(rg,t)}}function sg(e,t,s){e==="focusin"?(Vu(),us=t,cs=s,us.attachEvent("onpropertychange",qu)):e==="focusout"&&Vu()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(cs)}function og(e,t){if(e==="click")return hi(t)}function ag(e,t){if(e==="input"||e==="change")return hi(t)}function lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:lg;function ds(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!g.call(t,c)||!Nt(e[c],t[c]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var s=Hu(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Hu(s)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ju(){for(var e=window,t=Zr();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Zr(e.document)}return t}function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ug(e){var t=Ju(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Gu(s.ownerDocument.documentElement,s)){if(a!==null&&Xo(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=Ku(s,h);var m=Ku(s,a);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cg=p&&"documentMode"in document&&11>=document.documentMode,an=null,Zo=null,hs=null,ea=!1;function Qu(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ea||an==null||an!==Zr(a)||(a=an,"selectionStart"in a&&Xo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),hs&&ds(hs,a)||(hs=a,a=mi(Zo,"onSelect"),0<a.length&&(t=new Vo("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=an)))}function fi(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ln={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},ta={},Yu={};p&&(Yu=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function pi(e){if(ta[e])return ta[e];if(!ln[e])return e;var t=ln[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Yu)return ta[e]=t[s];return e}var Xu=pi("animationend"),Zu=pi("animationiteration"),ec=pi("animationstart"),tc=pi("transitionend"),rc=new Map,nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dr(e,t){rc.set(e,t),u(t,[e])}for(var ra=0;ra<nc.length;ra++){var na=nc[ra],dg=na.toLowerCase(),hg=na[0].toUpperCase()+na.slice(1);dr(dg,"on"+hg)}dr(Xu,"onAnimationEnd"),dr(Zu,"onAnimationIteration"),dr(ec,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(tc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function sc(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,dp(a,t,void 0,e),e.currentTarget=null}function ic(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var m=a.length-1;0<=m;m--){var w=a[m],x=w.instance,N=w.currentTarget;if(w=w.listener,x!==h&&c.isPropagationStopped())break e;sc(c,w,N),h=x}else for(m=0;m<a.length;m++){if(w=a[m],x=w.instance,N=w.currentTarget,w=w.listener,x!==h&&c.isPropagationStopped())break e;sc(c,w,N),h=x}}}if(Xs)throw e=Io,Xs=!1,Io=null,e}function be(e,t){var s=t[da];s===void 0&&(s=t[da]=new Set);var a=e+"__bubble";s.has(a)||(oc(t,e,2,!1),s.add(a))}function sa(e,t,s){var a=0;t&&(a|=4),oc(s,e,a,t)}var gi="_reactListening"+Math.random().toString(36).slice(2);function ps(e){if(!e[gi]){e[gi]=!0,o.forEach(function(s){s!=="selectionchange"&&(fg.has(s)||sa(s,!1,e),sa(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gi]||(t[gi]=!0,sa("selectionchange",!1,t))}}function oc(e,t,s,a){switch(Ou(t)){case 1:var c=Cp;break;case 4:c=Tp;break;default:c=zo}s=c.bind(null,t,s,e),c=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function ia(e,t,s,a,c){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var x=m.tag;if((x===3||x===4)&&(x=m.stateNode.containerInfo,x===c||x.nodeType===8&&x.parentNode===c))return;m=m.return}for(;w!==null;){if(m=Nr(w),m===null)return;if(x=m.tag,x===5||x===6){a=h=m;continue e}w=w.parentNode}}a=a.return}du(function(){var N=h,$=Gn(s),D=[];e:{var L=rc.get(e);if(L!==void 0){var W=Vo,G=e;switch(e){case"keypress":if(ui(s)===0)break e;case"keydown":case"keyup":W=Wp;break;case"focusin":G="focus",W=Ko;break;case"focusout":G="blur",W=Ko;break;case"beforeblur":case"afterblur":W=Ko;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Hp;break;case Xu:case Zu:case ec:W=Ip;break;case tc:W=Gp;break;case"scroll":W=Op;break;case"wheel":W=Qp;break;case"copy":case"cut":case"paste":W=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Iu}var Q=(t&4)!==0,Le=!Q&&e==="scroll",T=Q?L!==null?L+"Capture":null:L;Q=[];for(var b=N,O;b!==null;){O=b;var M=O.stateNode;if(O.tag===5&&M!==null&&(O=M,T!==null&&(M=Qn(b,T),M!=null&&Q.push(gs(b,M,O)))),Le)break;b=b.return}0<Q.length&&(L=new W(L,G,null,s,$),D.push({event:L,listeners:Q}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",L&&s!==Kn&&(G=s.relatedTarget||s.fromElement)&&(Nr(G)||G[Ht]))break e;if((W||L)&&(L=$.window===$?$:(L=$.ownerDocument)?L.defaultView||L.parentWindow:window,W?(G=s.relatedTarget||s.toElement,W=N,G=G?Nr(G):null,G!==null&&(Le=Pr(G),G!==Le||G.tag!==5&&G.tag!==6)&&(G=null)):(W=null,G=N),W!==G)){if(Q=Au,M="onMouseLeave",T="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Iu,M="onPointerLeave",T="onPointerEnter",b="pointer"),Le=W==null?L:dn(W),O=G==null?L:dn(G),L=new Q(M,b+"leave",W,s,$),L.target=Le,L.relatedTarget=O,M=null,Nr($)===N&&(Q=new Q(T,b+"enter",G,s,$),Q.target=O,Q.relatedTarget=Le,M=Q),Le=M,W&&G)t:{for(Q=W,T=G,b=0,O=Q;O;O=un(O))b++;for(O=0,M=T;M;M=un(M))O++;for(;0<b-O;)Q=un(Q),b--;for(;0<O-b;)T=un(T),O--;for(;b--;){if(Q===T||T!==null&&Q===T.alternate)break t;Q=un(Q),T=un(T)}Q=null}else Q=null;W!==null&&ac(D,L,W,Q,!1),G!==null&&Le!==null&&ac(D,Le,G,Q,!0)}}e:{if(L=N?dn(N):window,W=L.nodeName&&L.nodeName.toLowerCase(),W==="select"||W==="input"&&L.type==="file")var Y=ng;else if(Bu(L))if(Fu)Y=ag;else{Y=ig;var te=sg}else(W=L.nodeName)&&W.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(Y=og);if(Y&&(Y=Y(e,N))){zu(D,Y,s,$);break e}te&&te(e,L,N),e==="focusout"&&(te=L._wrapperState)&&te.controlled&&L.type==="number"&&zn(L,"number",L.value)}switch(te=N?dn(N):window,e){case"focusin":(Bu(te)||te.contentEditable==="true")&&(an=te,Zo=N,hs=null);break;case"focusout":hs=Zo=an=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,Qu(D,s,$);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":Qu(D,s,$)}var re;if(Jo)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else on?Uu(e,s)&&(ie="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ie="onCompositionStart");ie&&(Lu&&s.locale!=="ko"&&(on||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&on&&(re=Pu()):(cr=$,Wo="value"in cr?cr.value:cr.textContent,on=!0)),te=mi(N,ie),0<te.length&&(ie=new Ru(ie,e,null,s,$),D.push({event:ie,listeners:te}),re?ie.data=re:(re=Mu(s),re!==null&&(ie.data=re)))),(re=Xp?Zp(e,s):eg(e,s))&&(N=mi(N,"onBeforeInput"),0<N.length&&($=new Ru("onBeforeInput","beforeinput",null,s,$),D.push({event:$,listeners:N}),$.data=re))}ic(D,t)})}function gs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function mi(e,t){for(var s=t+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Qn(e,s),h!=null&&a.unshift(gs(e,h,c)),h=Qn(e,t),h!=null&&a.push(gs(e,h,c))),e=e.return}return a}function un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,s,a,c){for(var h=t._reactName,m=[];s!==null&&s!==a;){var w=s,x=w.alternate,N=w.stateNode;if(x!==null&&x===a)break;w.tag===5&&N!==null&&(w=N,c?(x=Qn(s,h),x!=null&&m.unshift(gs(s,x,w))):c||(x=Qn(s,h),x!=null&&m.push(gs(s,x,w)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var pg=/\r\n?/g,gg=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(pg,`
`).replace(gg,"")}function yi(e,t,s){if(t=lc(t),lc(e)!==t&&s)throw Error(n(425))}function vi(){}var oa=null,aa=null;function la(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ua=typeof setTimeout=="function"?setTimeout:void 0,mg=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,yg=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(vg)}:ua;function vg(e){setTimeout(function(){throw e})}function ca(e,t){var s=t,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),is(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);is(t)}function hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var cn=Math.random().toString(36).slice(2),zt="__reactFiber$"+cn,ms="__reactProps$"+cn,Ht="__reactContainer$"+cn,da="__reactEvents$"+cn,wg="__reactListeners$"+cn,_g="__reactHandles$"+cn;function Nr(e){var t=e[zt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ht]||s[zt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=cc(e);e!==null;){if(s=e[zt])return s;e=cc(e)}return t}e=s,s=e.parentNode}return null}function ys(e){return e=e[zt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function wi(e){return e[ms]||null}var ha=[],hn=-1;function fr(e){return{current:e}}function Ee(e){0>hn||(e.current=ha[hn],ha[hn]=null,hn--)}function ke(e,t){hn++,ha[hn]=e.current,e.current=t}var pr={},Ye=fr(pr),lt=fr(!1),Ar=pr;function fn(e,t){var s=e.type.contextTypes;if(!s)return pr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function ut(e){return e=e.childContextTypes,e!=null}function _i(){Ee(lt),Ee(Ye)}function dc(e,t,s){if(Ye.current!==pr)throw Error(n(168));ke(Ye,t),ke(lt,s)}function hc(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(n(108,ve(e)||"Unknown",c));return q({},s,a)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Ar=Ye.current,ke(Ye,e),ke(lt,lt.current),!0}function fc(e,t,s){var a=e.stateNode;if(!a)throw Error(n(169));s?(e=hc(e,t,Ar),a.__reactInternalMemoizedMergedChildContext=e,Ee(lt),Ee(Ye),ke(Ye,e)):Ee(lt),ke(lt,s)}var Kt=null,ki=!1,fa=!1;function pc(e){Kt===null?Kt=[e]:Kt.push(e)}function xg(e){ki=!0,pc(e)}function gr(){if(!fa&&Kt!==null){fa=!0;var e=0,t=ye;try{var s=Kt;for(ye=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Kt=null,ki=!1}catch(c){throw Kt!==null&&(Kt=Kt.slice(e+1)),mu(Lo,gr),c}finally{ye=t,fa=!1}}return null}var pn=[],gn=0,Si=null,bi=0,bt=[],Et=0,Rr=null,Gt=1,Jt="";function Ir(e,t){pn[gn++]=bi,pn[gn++]=Si,Si=e,bi=t}function gc(e,t,s){bt[Et++]=Gt,bt[Et++]=Jt,bt[Et++]=Rr,Rr=e;var a=Gt;e=Jt;var c=32-Pt(a)-1;a&=~(1<<c),s+=1;var h=32-Pt(t)+c;if(30<h){var m=c-c%5;h=(a&(1<<m)-1).toString(32),a>>=m,c-=m,Gt=1<<32-Pt(t)+c|s<<c|a,Jt=h+e}else Gt=1<<h|s<<c|a,Jt=e}function pa(e){e.return!==null&&(Ir(e,1),gc(e,1,0))}function ga(e){for(;e===Si;)Si=pn[--gn],pn[gn]=null,bi=pn[--gn],pn[gn]=null;for(;e===Rr;)Rr=bt[--Et],bt[Et]=null,Jt=bt[--Et],bt[Et]=null,Gt=bt[--Et],bt[Et]=null}var vt=null,wt=null,je=!1,At=null;function mc(e,t){var s=Ot(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function yc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,wt=hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Rr!==null?{id:Gt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ot(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,vt=e,wt=null,!0):!1;default:return!1}}function ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ya(e){if(je){var t=wt;if(t){var s=t;if(!yc(e,t)){if(ma(e))throw Error(n(418));t=hr(s.nextSibling);var a=vt;t&&yc(e,t)?mc(a,s):(e.flags=e.flags&-4097|2,je=!1,vt=e)}}else{if(ma(e))throw Error(n(418));e.flags=e.flags&-4097|2,je=!1,vt=e}}}function vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Ei(e){if(e!==vt)return!1;if(!je)return vc(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!la(e.type,e.memoizedProps)),t&&(t=wt)){if(ma(e))throw wc(),Error(n(418));for(;t;)mc(e,t),t=hr(t.nextSibling)}if(vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){wt=hr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=vt?hr(e.stateNode.nextSibling):null;return!0}function wc(){for(var e=wt;e;)e=hr(e.nextSibling)}function mn(){wt=vt=null,je=!1}function va(e){At===null?At=[e]:At.push(e)}var kg=F.ReactCurrentBatchConfig;function vs(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var a=s.stateNode}if(!a)throw Error(n(147,e));var c=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(m){var w=c.refs;m===null?delete w[h]:w[h]=m},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function ji(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function xc(e){function t(T,b){if(e){var O=T.deletions;O===null?(T.deletions=[b],T.flags|=16):O.push(b)}}function s(T,b){if(!e)return null;for(;b!==null;)t(T,b),b=b.sibling;return null}function a(T,b){for(T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function c(T,b){return T=Sr(T,b),T.index=0,T.sibling=null,T}function h(T,b,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<b?(T.flags|=2,b):O):(T.flags|=2,b)):(T.flags|=1048576,b)}function m(T){return e&&T.alternate===null&&(T.flags|=2),T}function w(T,b,O,M){return b===null||b.tag!==6?(b=ul(O,T.mode,M),b.return=T,b):(b=c(b,O),b.return=T,b)}function x(T,b,O,M){var Y=O.type;return Y===Z?$(T,b,O.props.children,M,O.key):b!==null&&(b.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===He&&_c(Y)===b.type)?(M=c(b,O.props),M.ref=vs(T,b,O),M.return=T,M):(M=Qi(O.type,O.key,O.props,null,T.mode,M),M.ref=vs(T,b,O),M.return=T,M)}function N(T,b,O,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==O.containerInfo||b.stateNode.implementation!==O.implementation?(b=cl(O,T.mode,M),b.return=T,b):(b=c(b,O.children||[]),b.return=T,b)}function $(T,b,O,M,Y){return b===null||b.tag!==7?(b=Fr(O,T.mode,M,Y),b.return=T,b):(b=c(b,O),b.return=T,b)}function D(T,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ul(""+b,T.mode,O),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case V:return O=Qi(b.type,b.key,b.props,null,T.mode,O),O.ref=vs(T,null,b),O.return=T,O;case J:return b=cl(b,T.mode,O),b.return=T,b;case He:var M=b._init;return D(T,M(b._payload),O)}if(Tr(b)||ne(b))return b=Fr(b,T.mode,O,null),b.return=T,b;ji(T,b)}return null}function L(T,b,O,M){var Y=b!==null?b.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Y!==null?null:w(T,b,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return O.key===Y?x(T,b,O,M):null;case J:return O.key===Y?N(T,b,O,M):null;case He:return Y=O._init,L(T,b,Y(O._payload),M)}if(Tr(O)||ne(O))return Y!==null?null:$(T,b,O,M,null);ji(T,O)}return null}function W(T,b,O,M,Y){if(typeof M=="string"&&M!==""||typeof M=="number")return T=T.get(O)||null,w(b,T,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return T=T.get(M.key===null?O:M.key)||null,x(b,T,M,Y);case J:return T=T.get(M.key===null?O:M.key)||null,N(b,T,M,Y);case He:var te=M._init;return W(T,b,O,te(M._payload),Y)}if(Tr(M)||ne(M))return T=T.get(O)||null,$(b,T,M,Y,null);ji(b,M)}return null}function G(T,b,O,M){for(var Y=null,te=null,re=b,ie=b=0,qe=null;re!==null&&ie<O.length;ie++){re.index>ie?(qe=re,re=null):qe=re.sibling;var ge=L(T,re,O[ie],M);if(ge===null){re===null&&(re=qe);break}e&&re&&ge.alternate===null&&t(T,re),b=h(ge,b,ie),te===null?Y=ge:te.sibling=ge,te=ge,re=qe}if(ie===O.length)return s(T,re),je&&Ir(T,ie),Y;if(re===null){for(;ie<O.length;ie++)re=D(T,O[ie],M),re!==null&&(b=h(re,b,ie),te===null?Y=re:te.sibling=re,te=re);return je&&Ir(T,ie),Y}for(re=a(T,re);ie<O.length;ie++)qe=W(re,T,ie,O[ie],M),qe!==null&&(e&&qe.alternate!==null&&re.delete(qe.key===null?ie:qe.key),b=h(qe,b,ie),te===null?Y=qe:te.sibling=qe,te=qe);return e&&re.forEach(function(br){return t(T,br)}),je&&Ir(T,ie),Y}function Q(T,b,O,M){var Y=ne(O);if(typeof Y!="function")throw Error(n(150));if(O=Y.call(O),O==null)throw Error(n(151));for(var te=Y=null,re=b,ie=b=0,qe=null,ge=O.next();re!==null&&!ge.done;ie++,ge=O.next()){re.index>ie?(qe=re,re=null):qe=re.sibling;var br=L(T,re,ge.value,M);if(br===null){re===null&&(re=qe);break}e&&re&&br.alternate===null&&t(T,re),b=h(br,b,ie),te===null?Y=br:te.sibling=br,te=br,re=qe}if(ge.done)return s(T,re),je&&Ir(T,ie),Y;if(re===null){for(;!ge.done;ie++,ge=O.next())ge=D(T,ge.value,M),ge!==null&&(b=h(ge,b,ie),te===null?Y=ge:te.sibling=ge,te=ge);return je&&Ir(T,ie),Y}for(re=a(T,re);!ge.done;ie++,ge=O.next())ge=W(re,T,ie,ge.value,M),ge!==null&&(e&&ge.alternate!==null&&re.delete(ge.key===null?ie:ge.key),b=h(ge,b,ie),te===null?Y=ge:te.sibling=ge,te=ge);return e&&re.forEach(function(tm){return t(T,tm)}),je&&Ir(T,ie),Y}function Le(T,b,O,M){if(typeof O=="object"&&O!==null&&O.type===Z&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case V:e:{for(var Y=O.key,te=b;te!==null;){if(te.key===Y){if(Y=O.type,Y===Z){if(te.tag===7){s(T,te.sibling),b=c(te,O.props.children),b.return=T,T=b;break e}}else if(te.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===He&&_c(Y)===te.type){s(T,te.sibling),b=c(te,O.props),b.ref=vs(T,te,O),b.return=T,T=b;break e}s(T,te);break}else t(T,te);te=te.sibling}O.type===Z?(b=Fr(O.props.children,T.mode,M,O.key),b.return=T,T=b):(M=Qi(O.type,O.key,O.props,null,T.mode,M),M.ref=vs(T,b,O),M.return=T,T=M)}return m(T);case J:e:{for(te=O.key;b!==null;){if(b.key===te)if(b.tag===4&&b.stateNode.containerInfo===O.containerInfo&&b.stateNode.implementation===O.implementation){s(T,b.sibling),b=c(b,O.children||[]),b.return=T,T=b;break e}else{s(T,b);break}else t(T,b);b=b.sibling}b=cl(O,T.mode,M),b.return=T,T=b}return m(T);case He:return te=O._init,Le(T,b,te(O._payload),M)}if(Tr(O))return G(T,b,O,M);if(ne(O))return Q(T,b,O,M);ji(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,b!==null&&b.tag===6?(s(T,b.sibling),b=c(b,O),b.return=T,T=b):(s(T,b),b=ul(O,T.mode,M),b.return=T,T=b),m(T)):s(T,b)}return Le}var yn=xc(!0),kc=xc(!1),Ci=fr(null),Ti=null,vn=null,wa=null;function _a(){wa=vn=Ti=null}function xa(e){var t=Ci.current;Ee(Ci),e._currentValue=t}function ka(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function wn(e,t){Ti=e,wa=vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ct=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},vn===null){if(Ti===null)throw Error(n(308));vn=e,Ti.dependencies={lanes:0,firstContext:e}}else vn=vn.next=e;return t}var Lr=null;function Sa(e){Lr===null?Lr=[e]:Lr.push(e)}function Sc(e,t,s,a){var c=t.interleaved;return c===null?(s.next=s,Sa(t)):(s.next=c.next,c.next=s),t.interleaved=s,Qt(e,a)}function Qt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var mr=!1;function ba(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(pe&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Qt(e,s)}return c=a.interleaved,c===null?(t.next=t,Sa(a)):(t.next=c.next,c.next=t),a.interleaved=t,Qt(e,s)}function Oi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Uo(e,s)}}function Ec(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=m:h=h.next=m,s=s.next}while(s!==null);h===null?c=h=t:h=h.next=t}else c=h=t;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Pi(e,t,s,a){var c=e.updateQueue;mr=!1;var h=c.firstBaseUpdate,m=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var x=w,N=x.next;x.next=null,m===null?h=N:m.next=N,m=x;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==m&&(w===null?$.firstBaseUpdate=N:w.next=N,$.lastBaseUpdate=x))}if(h!==null){var D=c.baseState;m=0,$=N=x=null,w=h;do{var L=w.lane,W=w.eventTime;if((a&L)===L){$!==null&&($=$.next={eventTime:W,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var G=e,Q=w;switch(L=t,W=s,Q.tag){case 1:if(G=Q.payload,typeof G=="function"){D=G.call(W,D,L);break e}D=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Q.payload,L=typeof G=="function"?G.call(W,D,L):G,L==null)break e;D=q({},D,L);break e;case 2:mr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,L=c.effects,L===null?c.effects=[w]:L.push(w))}else W={eventTime:W,lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(N=$=W,x=D):$=$.next=W,m|=L;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;L=w,w=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);if($===null&&(x=D),c.baseState=x,c.firstBaseUpdate=N,c.lastBaseUpdate=$,t=c.shared.interleaved,t!==null){c=t;do m|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);Ur|=m,e.lanes=m,e.memoizedState=D}}function jc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var ws={},Ft=fr(ws),_s=fr(ws),xs=fr(ws);function $r(e){if(e===ws)throw Error(n(174));return e}function Ea(e,t){switch(ke(xs,t),ke(_s,e),ke(Ft,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wn(t,e)}Ee(Ft),ke(Ft,t)}function _n(){Ee(Ft),Ee(_s),Ee(xs)}function Cc(e){$r(xs.current);var t=$r(Ft.current),s=Wn(t,e.type);t!==s&&(ke(_s,e),ke(Ft,s))}function ja(e){_s.current===e&&(Ee(Ft),Ee(_s))}var Oe=fr(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ca=[];function Ta(){for(var e=0;e<Ca.length;e++)Ca[e]._workInProgressVersionPrimary=null;Ca.length=0}var Ai=F.ReactCurrentDispatcher,Oa=F.ReactCurrentBatchConfig,Dr=0,Pe=null,Be=null,We=null,Ri=!1,ks=!1,Ss=0,Sg=0;function Xe(){throw Error(n(321))}function Pa(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Nt(e[s],t[s]))return!1;return!0}function Na(e,t,s,a,c,h){if(Dr=h,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ai.current=e===null||e.memoizedState===null?Cg:Tg,e=s(a,c),ks){h=0;do{if(ks=!1,Ss=0,25<=h)throw Error(n(301));h+=1,We=Be=null,t.updateQueue=null,Ai.current=Og,e=s(a,c)}while(ks)}if(Ai.current=$i,t=Be!==null&&Be.next!==null,Dr=0,We=Be=Pe=null,Ri=!1,t)throw Error(n(300));return e}function Aa(){var e=Ss!==0;return Ss=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function Ct(){if(Be===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,Be=e;else{if(e===null)throw Error(n(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function bs(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=Ct(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=Be,c=a.baseQueue,h=s.pending;if(h!==null){if(c!==null){var m=c.next;c.next=h.next,h.next=m}a.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,a=a.baseState;var w=m=null,x=null,N=h;do{var $=N.lane;if((Dr&$)===$)x!==null&&(x=x.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),a=N.hasEagerState?N.eagerState:e(a,N.action);else{var D={lane:$,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};x===null?(w=x=D,m=a):x=x.next=D,Pe.lanes|=$,Ur|=$}N=N.next}while(N!==null&&N!==h);x===null?m=a:x.next=w,Nt(a,t.memoizedState)||(ct=!0),t.memoizedState=a,t.baseState=m,t.baseQueue=x,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do h=c.lane,Pe.lanes|=h,Ur|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ia(e){var t=Ct(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,h=t.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do h=e(h,m.action),m=m.next;while(m!==c);Nt(h,t.memoizedState)||(ct=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,a]}function Tc(){}function Oc(e,t){var s=Pe,a=Ct(),c=t(),h=!Nt(a.memoizedState,c);if(h&&(a.memoizedState=c,ct=!0),a=a.queue,La(Ac.bind(null,s,a,e),[e]),a.getSnapshot!==t||h||We!==null&&We.memoizedState.tag&1){if(s.flags|=2048,Es(9,Nc.bind(null,s,a,c,t),void 0,null),Ve===null)throw Error(n(349));(Dr&30)!==0||Pc(s,t,c)}return c}function Pc(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Nc(e,t,s,a){t.value=s,t.getSnapshot=a,Rc(t)&&Ic(e)}function Ac(e,t,s){return s(function(){Rc(t)&&Ic(e)})}function Rc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Nt(e,s)}catch{return!0}}function Ic(e){var t=Qt(e,1);t!==null&&$t(t,e,1,-1)}function Lc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=jg.bind(null,Pe,e),[t.memoizedState,e]}function Es(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function $c(){return Ct().memoizedState}function Ii(e,t,s,a){var c=Wt();Pe.flags|=e,c.memoizedState=Es(1|t,s,void 0,a===void 0?null:a)}function Li(e,t,s,a){var c=Ct();a=a===void 0?null:a;var h=void 0;if(Be!==null){var m=Be.memoizedState;if(h=m.destroy,a!==null&&Pa(a,m.deps)){c.memoizedState=Es(t,s,h,a);return}}Pe.flags|=e,c.memoizedState=Es(1|t,s,h,a)}function Dc(e,t){return Ii(8390656,8,e,t)}function La(e,t){return Li(2048,8,e,t)}function Uc(e,t){return Li(4,2,e,t)}function Mc(e,t){return Li(4,4,e,t)}function Bc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zc(e,t,s){return s=s!=null?s.concat([e]):null,Li(4,4,Bc.bind(null,t,e),s)}function $a(){}function Fc(e,t){var s=Ct();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Pa(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Wc(e,t){var s=Ct();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Pa(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Vc(e,t,s){return(Dr&21)===0?(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=s):(Nt(s,t)||(s=_u(),Pe.lanes|=s,Ur|=s,e.baseState=!0),t)}function bg(e,t){var s=ye;ye=s!==0&&4>s?s:4,e(!0);var a=Oa.transition;Oa.transition={};try{e(!1),t()}finally{ye=s,Oa.transition=a}}function qc(){return Ct().memoizedState}function Eg(e,t,s){var a=xr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Hc(e))Kc(t,s);else if(s=Sc(e,t,s,a),s!==null){var c=it();$t(s,e,a,c),Gc(s,t,a)}}function jg(e,t,s){var a=xr(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hc(e))Kc(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var m=t.lastRenderedState,w=h(m,s);if(c.hasEagerState=!0,c.eagerState=w,Nt(w,m)){var x=t.interleaved;x===null?(c.next=c,Sa(t)):(c.next=x.next,x.next=c),t.interleaved=c;return}}catch{}finally{}s=Sc(e,t,c,a),s!==null&&(c=it(),$t(s,e,a,c),Gc(s,t,a))}}function Hc(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Kc(e,t){ks=Ri=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Gc(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Uo(e,s)}}var $i={readContext:jt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Cg={readContext:jt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Dc,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ii(4194308,4,Bc.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var s=Wt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Wt();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Eg.bind(null,Pe,e),[a.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:$a,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=bg.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Pe,c=Wt();if(je){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),Ve===null)throw Error(n(349));(Dr&30)!==0||Pc(a,t,s)}c.memoizedState=s;var h={value:s,getSnapshot:t};return c.queue=h,Dc(Ac.bind(null,a,h,e),[e]),a.flags|=2048,Es(9,Nc.bind(null,a,h,s,t),void 0,null),s},useId:function(){var e=Wt(),t=Ve.identifierPrefix;if(je){var s=Jt,a=Gt;s=(a&~(1<<32-Pt(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ss++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Sg++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tg={readContext:jt,useCallback:Fc,useContext:jt,useEffect:La,useImperativeHandle:zc,useInsertionEffect:Uc,useLayoutEffect:Mc,useMemo:Wc,useReducer:Ra,useRef:$c,useState:function(){return Ra(bs)},useDebugValue:$a,useDeferredValue:function(e){var t=Ct();return Vc(t,Be.memoizedState,e)},useTransition:function(){var e=Ra(bs)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Oc,useId:qc,unstable_isNewReconciler:!1},Og={readContext:jt,useCallback:Fc,useContext:jt,useEffect:La,useImperativeHandle:zc,useInsertionEffect:Uc,useLayoutEffect:Mc,useMemo:Wc,useReducer:Ia,useRef:$c,useState:function(){return Ia(bs)},useDebugValue:$a,useDeferredValue:function(e){var t=Ct();return Be===null?t.memoizedState=e:Vc(t,Be.memoizedState,e)},useTransition:function(){var e=Ia(bs)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Oc,useId:qc,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Da(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:q({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Di={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=it(),c=xr(e),h=Yt(a,c);h.payload=t,s!=null&&(h.callback=s),t=yr(e,h,c),t!==null&&($t(t,e,c,a),Oi(t,e,c))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=it(),c=xr(e),h=Yt(a,c);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=yr(e,h,c),t!==null&&($t(t,e,c,a),Oi(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=it(),a=xr(e),c=Yt(s,a);c.tag=2,t!=null&&(c.callback=t),t=yr(e,c,a),t!==null&&($t(t,e,a,s),Oi(t,e,a))}};function Jc(e,t,s,a,c,h,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,m):t.prototype&&t.prototype.isPureReactComponent?!ds(s,a)||!ds(c,h):!0}function Qc(e,t,s){var a=!1,c=pr,h=t.contextType;return typeof h=="object"&&h!==null?h=jt(h):(c=ut(t)?Ar:Ye.current,a=t.contextTypes,h=(a=a!=null)?fn(e,c):pr),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function Yc(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Ua(e,t,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},ba(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=jt(h):(h=ut(t)?Ar:Ye.current,c.context=fn(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Da(e,t,h,s),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Di.enqueueReplaceState(c,c.state,null),Pi(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function xn(e,t){try{var s="",a=t;do s+=ce(a),a=a.return;while(a);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function Ma(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ba(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Pg=typeof WeakMap=="function"?WeakMap:Map;function Xc(e,t,s){s=Yt(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Vi||(Vi=!0,tl=a),Ba(e,t)},s}function Zc(e,t,s){s=Yt(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;s.payload=function(){return a(c)},s.callback=function(){Ba(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Ba(e,t),typeof a!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),s}function ed(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Pg;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(s)||(c.add(s),e=Vg.bind(null,e,t,s),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rd(e,t,s,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Yt(-1,1),t.tag=2,yr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Ng=F.ReactCurrentOwner,ct=!1;function st(e,t,s,a){t.child=e===null?kc(t,null,s,a):yn(t,e.child,s,a)}function nd(e,t,s,a,c){s=s.render;var h=t.ref;return wn(t,c),a=Na(e,t,s,a,h,c),s=Aa(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Xt(e,t,c)):(je&&s&&pa(t),t.flags|=1,st(e,t,a,c),t.child)}function sd(e,t,s,a,c){if(e===null){var h=s.type;return typeof h=="function"&&!ll(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,id(e,t,h,a,c)):(e=Qi(s.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var m=h.memoizedProps;if(s=s.compare,s=s!==null?s:ds,s(m,a)&&e.ref===t.ref)return Xt(e,t,c)}return t.flags|=1,e=Sr(h,a),e.ref=t.ref,e.return=t,t.child=e}function id(e,t,s,a,c){if(e!==null){var h=e.memoizedProps;if(ds(h,a)&&e.ref===t.ref)if(ct=!1,t.pendingProps=a=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Xt(e,t,c)}return za(e,t,s,a,c)}function od(e,t,s){var a=t.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Sn,_t),_t|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Sn,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,ke(Sn,_t),_t|=a}else h!==null?(a=h.baseLanes|s,t.memoizedState=null):a=s,ke(Sn,_t),_t|=a;return st(e,t,c,s),t.child}function ad(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function za(e,t,s,a,c){var h=ut(s)?Ar:Ye.current;return h=fn(t,h),wn(t,c),s=Na(e,t,s,a,h,c),a=Aa(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Xt(e,t,c)):(je&&a&&pa(t),t.flags|=1,st(e,t,s,c),t.child)}function ld(e,t,s,a,c){if(ut(s)){var h=!0;xi(t)}else h=!1;if(wn(t,c),t.stateNode===null)Mi(e,t),Qc(t,s,a),Ua(t,s,a,c),a=!0;else if(e===null){var m=t.stateNode,w=t.memoizedProps;m.props=w;var x=m.context,N=s.contextType;typeof N=="object"&&N!==null?N=jt(N):(N=ut(s)?Ar:Ye.current,N=fn(t,N));var $=s.getDerivedStateFromProps,D=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function";D||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==a||x!==N)&&Yc(t,m,a,N),mr=!1;var L=t.memoizedState;m.state=L,Pi(t,a,m,c),x=t.memoizedState,w!==a||L!==x||lt.current||mr?(typeof $=="function"&&(Da(t,s,$,a),x=t.memoizedState),(w=mr||Jc(t,s,w,a,L,x,N))?(D||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),m.props=a,m.state=x,m.context=N,a=w):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,bc(e,t),w=t.memoizedProps,N=t.type===t.elementType?w:Rt(t.type,w),m.props=N,D=t.pendingProps,L=m.context,x=s.contextType,typeof x=="object"&&x!==null?x=jt(x):(x=ut(s)?Ar:Ye.current,x=fn(t,x));var W=s.getDerivedStateFromProps;($=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==D||L!==x)&&Yc(t,m,a,x),mr=!1,L=t.memoizedState,m.state=L,Pi(t,a,m,c);var G=t.memoizedState;w!==D||L!==G||lt.current||mr?(typeof W=="function"&&(Da(t,s,W,a),G=t.memoizedState),(N=mr||Jc(t,s,N,a,L,G,x)||!1)?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,G,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,G,x)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=G),m.props=a,m.state=G,m.context=x,a=N):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return Fa(e,t,s,a,h,c)}function Fa(e,t,s,a,c,h){ad(e,t);var m=(t.flags&128)!==0;if(!a&&!m)return c&&fc(t,s,!1),Xt(e,t,h);a=t.stateNode,Ng.current=t;var w=m&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&m?(t.child=yn(t,e.child,null,h),t.child=yn(t,null,w,h)):st(e,t,w,h),t.memoizedState=a.state,c&&fc(t,s,!0),t.child}function ud(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),Ea(e,t.containerInfo)}function cd(e,t,s,a,c){return mn(),va(c),t.flags|=256,st(e,t,s,a),t.child}var Wa={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function dd(e,t,s){var a=t.pendingProps,c=Oe.current,h=!1,m=(t.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ke(Oe,c&1),e===null)return ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=a.children,e=a.fallback,h?(a=t.mode,h=t.child,m={mode:"hidden",children:m},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=m):h=Yi(m,a,0,null),e=Fr(e,a,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Va(s),t.memoizedState=Wa,e):qa(t,m));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Ag(e,t,m,a,w,c,s);if(h){h=a.fallback,m=t.mode,c=e.child,w=c.sibling;var x={mode:"hidden",children:a.children};return(m&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=x,t.deletions=null):(a=Sr(c,x),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?h=Sr(w,h):(h=Fr(h,m,s,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,m=e.child.memoizedState,m=m===null?Va(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=e.childLanes&~s,t.memoizedState=Wa,a}return h=e.child,e=h.sibling,a=Sr(h,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function qa(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,s,a){return a!==null&&va(a),yn(t,e.child,null,s),e=qa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ag(e,t,s,a,c,h,m){if(s)return t.flags&256?(t.flags&=-257,a=Ma(Error(n(422))),Ui(e,t,m,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,c=t.mode,a=Yi({mode:"visible",children:a.children},c,0,null),h=Fr(h,c,m,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,(t.mode&1)!==0&&yn(t,e.child,null,m),t.child.memoizedState=Va(m),t.memoizedState=Wa,h);if((t.mode&1)===0)return Ui(e,t,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,h=Error(n(419)),a=Ma(h,a,void 0),Ui(e,t,m,a)}if(w=(m&e.childLanes)!==0,ct||w){if(a=Ve,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|m))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Qt(e,c),$t(a,e,c,-1))}return al(),a=Ma(Error(n(421))),Ui(e,t,m,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=qg.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,wt=hr(c.nextSibling),vt=t,je=!0,At=null,e!==null&&(bt[Et++]=Gt,bt[Et++]=Jt,bt[Et++]=Rr,Gt=e.id,Jt=e.overflow,Rr=t),t=qa(t,a.children),t.flags|=4096,t)}function hd(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ka(e.return,t,s)}function Ha(e,t,s,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=c)}function fd(e,t,s){var a=t.pendingProps,c=a.revealOrder,h=a.tail;if(st(e,t,a.children,s),a=Oe.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,s,t);else if(e.tag===19)hd(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ke(Oe,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&Ni(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Ha(t,!1,c,s,h);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ni(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Ha(t,!0,s,null,h);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ur|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=Sr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Sr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Rg(e,t,s){switch(t.tag){case 3:ud(t),mn();break;case 5:Cc(t);break;case 1:ut(t.type)&&xi(t);break;case 4:Ea(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;ke(Ci,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ke(Oe,Oe.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?dd(e,t,s):(ke(Oe,Oe.current&1),e=Xt(e,t,s),e!==null?e.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return fd(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ke(Oe,Oe.current),a)break;return null;case 22:case 23:return t.lanes=0,od(e,t,s)}return Xt(e,t,s)}var pd,Ka,gd,md;pd=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ka=function(){},gd=function(e,t,s,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,$r(Ft.current);var h=null;switch(s){case"input":c=Un(e,c),a=Un(e,a),h=[];break;case"select":c=q({},c,{value:void 0}),a=q({},a,{value:void 0}),h=[];break;case"textarea":c=Fn(e,c),a=Fn(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=vi)}Te(s,a);var m;s=null;for(N in c)if(!a.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var w=c[N];for(m in w)w.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(l.hasOwnProperty(N)?h||(h=[]):(h=h||[]).push(N,null));for(N in a){var x=a[N];if(w=c?.[N],a.hasOwnProperty(N)&&x!==w&&(x!=null||w!=null))if(N==="style")if(w){for(m in w)!w.hasOwnProperty(m)||x&&x.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in x)x.hasOwnProperty(m)&&w[m]!==x[m]&&(s||(s={}),s[m]=x[m])}else s||(h||(h=[]),h.push(N,s)),s=x;else N==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,w=w?w.__html:void 0,x!=null&&w!==x&&(h=h||[]).push(N,x)):N==="children"?typeof x!="string"&&typeof x!="number"||(h=h||[]).push(N,""+x):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(l.hasOwnProperty(N)?(x!=null&&N==="onScroll"&&be("scroll",e),h||w===x||(h=[])):(h=h||[]).push(N,x))}s&&(h=h||[]).push("style",s);var N=h;(t.updateQueue=N)&&(t.flags|=4)}},md=function(e,t,s,a){s!==a&&(t.flags|=4)};function js(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Ig(e,t,s){var a=t.pendingProps;switch(ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return ut(t.type)&&_i(),Ze(t),null;case 3:return a=t.stateNode,_n(),Ee(lt),Ee(Ye),Ta(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ei(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,At!==null&&(sl(At),At=null))),Ka(e,t),Ze(t),null;case 5:ja(t);var c=$r(xs.current);if(s=t.type,e!==null&&t.stateNode!=null)gd(e,t,s,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return Ze(t),null}if(e=$r(Ft.current),Ei(t)){a=t.stateNode,s=t.type;var h=t.memoizedProps;switch(a[zt]=t,a[ms]=h,e=(t.mode&1)!==0,s){case"dialog":be("cancel",a),be("close",a);break;case"iframe":case"object":case"embed":be("load",a);break;case"video":case"audio":for(c=0;c<fs.length;c++)be(fs[c],a);break;case"source":be("error",a);break;case"img":case"image":case"link":be("error",a),be("load",a);break;case"details":be("toggle",a);break;case"input":Mn(a,h),be("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},be("invalid",a);break;case"textarea":Ks(a,h),be("invalid",a)}Te(s,h),c=null;for(var m in h)if(h.hasOwnProperty(m)){var w=h[m];m==="children"?typeof w=="string"?a.textContent!==w&&(h.suppressHydrationWarning!==!0&&yi(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&yi(a.textContent,w,e),c=["children",""+w]):l.hasOwnProperty(m)&&w!=null&&m==="onScroll"&&be("scroll",a)}switch(s){case"input":Xr(a),Hs(a,h,!0);break;case"textarea":Xr(a),Js(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=vi)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qs(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(s,{is:a.is}):(e=m.createElement(s),s==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,s),e[zt]=t,e[ms]=a,pd(e,t,!1,!1),t.stateNode=e;e:{switch(m=Hn(s,a),s){case"dialog":be("cancel",e),be("close",e),c=a;break;case"iframe":case"object":case"embed":be("load",e),c=a;break;case"video":case"audio":for(c=0;c<fs.length;c++)be(fs[c],e);c=a;break;case"source":be("error",e),c=a;break;case"img":case"image":case"link":be("error",e),be("load",e),c=a;break;case"details":be("toggle",e),c=a;break;case"input":Mn(e,a),c=Un(e,a),be("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=q({},a,{value:void 0}),be("invalid",e);break;case"textarea":Ks(e,a),c=Fn(e,a),be("invalid",e);break;default:c=a}Te(s,c),w=c;for(h in w)if(w.hasOwnProperty(h)){var x=w[h];h==="style"?$e(e,x):h==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Vn(e,x)):h==="children"?typeof x=="string"?(s!=="textarea"||x!=="")&&Or(e,x):typeof x=="number"&&Or(e,""+x):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?x!=null&&h==="onScroll"&&be("scroll",e):x!=null&&R(e,h,x,m))}switch(s){case"input":Xr(e),Hs(e,a,!1);break;case"textarea":Xr(e),Js(e);break;case"option":a.value!=null&&e.setAttribute("value",""+me(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?ir(e,!!a.multiple,h,!1):a.defaultValue!=null&&ir(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=vi)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)md(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(s=$r(xs.current),$r(Ft.current),Ei(t)){if(a=t.stateNode,s=t.memoizedProps,a[zt]=t,(h=a.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:yi(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(a.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[zt]=t,t.stateNode=a}return Ze(t),null;case 13:if(Ee(Oe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)wc(),mn(),t.flags|=98560,h=!1;else if(h=Ei(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[zt]=t}else mn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),h=!1}else At!==null&&(sl(At),At=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?ze===0&&(ze=3):al())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return _n(),Ka(e,t),e===null&&ps(t.stateNode.containerInfo),Ze(t),null;case 10:return xa(t.type._context),Ze(t),null;case 17:return ut(t.type)&&_i(),Ze(t),null;case 19:if(Ee(Oe),h=t.memoizedState,h===null)return Ze(t),null;if(a=(t.flags&128)!==0,m=h.rendering,m===null)if(a)js(h,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Ni(e),m!==null){for(t.flags|=128,js(h,!1),a=m.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)h=s,e=a,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,e=m.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ke(Oe,Oe.current&1|2),t.child}e=e.sibling}h.tail!==null&&Ie()>bn&&(t.flags|=128,a=!0,js(h,!1),t.lanes=4194304)}else{if(!a)if(e=Ni(m),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),js(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!je)return Ze(t),null}else 2*Ie()-h.renderingStartTime>bn&&s!==1073741824&&(t.flags|=128,a=!0,js(h,!1),t.lanes=4194304);h.isBackwards?(m.sibling=t.child,t.child=m):(s=h.last,s!==null?s.sibling=m:t.child=m,h.last=m)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Ie(),t.sibling=null,s=Oe.current,ke(Oe,a?s&1|2:s&1),t):(Ze(t),null);case 22:case 23:return ol(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(_t&1073741824)!==0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Lg(e,t){switch(ga(t),t.tag){case 1:return ut(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(),Ee(lt),Ee(Ye),Ta(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ja(t),null;case 13:if(Ee(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Oe),null;case 4:return _n(),null;case 10:return xa(t.type._context),null;case 22:case 23:return ol(),null;case 24:return null;default:return null}}var Bi=!1,et=!1,$g=typeof WeakSet=="function"?WeakSet:Set,H=null;function kn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Ae(e,t,a)}else s.current=null}function Ga(e,t,s){try{s()}catch(a){Ae(e,t,a)}}var yd=!1;function Dg(e,t){if(oa=oi,e=Ju(),Xo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var m=0,w=-1,x=-1,N=0,$=0,D=e,L=null;t:for(;;){for(var W;D!==s||c!==0&&D.nodeType!==3||(w=m+c),D!==h||a!==0&&D.nodeType!==3||(x=m+a),D.nodeType===3&&(m+=D.nodeValue.length),(W=D.firstChild)!==null;)L=D,D=W;for(;;){if(D===e)break t;if(L===s&&++N===c&&(w=m),L===h&&++$===a&&(x=m),(W=D.nextSibling)!==null)break;D=L,L=D.parentNode}D=W}s=w===-1||x===-1?null:{start:w,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(aa={focusedElem:e,selectionRange:s},oi=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var G=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var Q=G.memoizedProps,Le=G.memoizedState,T=t.stateNode,b=T.getSnapshotBeforeUpdate(t.elementType===t.type?Q:Rt(t.type,Q),Le);T.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(M){Ae(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return G=yd,yd=!1,G}function Cs(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Ga(t,s,h)}c=c.next}while(c!==a)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function Ja(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function vd(e){var t=e.alternate;t!==null&&(e.alternate=null,vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[ms],delete t[da],delete t[wg],delete t[_g])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wd(e){return e.tag===5||e.tag===3||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qa(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=vi));else if(a!==4&&(e=e.child,e!==null))for(Qa(e,t,s),e=e.sibling;e!==null;)Qa(e,t,s),e=e.sibling}function Ya(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ya(e,t,s),e=e.sibling;e!==null;)Ya(e,t,s),e=e.sibling}var Ke=null,It=!1;function vr(e,t,s){for(s=s.child;s!==null;)xd(e,t,s),s=s.sibling}function xd(e,t,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ei,s)}catch{}switch(s.tag){case 5:et||kn(s,t);case 6:var a=Ke,c=It;Ke=null,vr(e,t,s),Ke=a,It=c,Ke!==null&&(It?(e=Ke,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ke.removeChild(s.stateNode));break;case 18:Ke!==null&&(It?(e=Ke,s=s.stateNode,e.nodeType===8?ca(e.parentNode,s):e.nodeType===1&&ca(e,s),is(e)):ca(Ke,s.stateNode));break;case 4:a=Ke,c=It,Ke=s.stateNode.containerInfo,It=!0,vr(e,t,s),Ke=a,It=c;break;case 0:case 11:case 14:case 15:if(!et&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,m=h.destroy;h=h.tag,m!==void 0&&((h&2)!==0||(h&4)!==0)&&Ga(s,t,m),c=c.next}while(c!==a)}vr(e,t,s);break;case 1:if(!et&&(kn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(w){Ae(s,t,w)}vr(e,t,s);break;case 21:vr(e,t,s);break;case 22:s.mode&1?(et=(a=et)||s.memoizedState!==null,vr(e,t,s),et=a):vr(e,t,s);break;default:vr(e,t,s)}}function kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new $g),t.forEach(function(a){var c=Hg.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function Lt(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var h=e,m=t,w=m;e:for(;w!==null;){switch(w.tag){case 5:Ke=w.stateNode,It=!1;break e;case 3:Ke=w.stateNode.containerInfo,It=!0;break e;case 4:Ke=w.stateNode.containerInfo,It=!0;break e}w=w.return}if(Ke===null)throw Error(n(160));xd(h,m,c),Ke=null,It=!1;var x=c.alternate;x!==null&&(x.return=null),c.return=null}catch(N){Ae(c,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sd(t,e),t=t.sibling}function Sd(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Vt(e),a&4){try{Cs(3,e,e.return),zi(3,e)}catch(Q){Ae(e,e.return,Q)}try{Cs(5,e,e.return)}catch(Q){Ae(e,e.return,Q)}}break;case 1:Lt(t,e),Vt(e),a&512&&s!==null&&kn(s,s.return);break;case 5:if(Lt(t,e),Vt(e),a&512&&s!==null&&kn(s,s.return),e.flags&32){var c=e.stateNode;try{Or(c,"")}catch(Q){Ae(e,e.return,Q)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,m=s!==null?s.memoizedProps:h,w=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&qs(c,h),Hn(w,m);var N=Hn(w,h);for(m=0;m<x.length;m+=2){var $=x[m],D=x[m+1];$==="style"?$e(c,D):$==="dangerouslySetInnerHTML"?Vn(c,D):$==="children"?Or(c,D):R(c,$,D,N)}switch(w){case"input":Bn(c,h);break;case"textarea":Gs(c,h);break;case"select":var L=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var W=h.value;W!=null?ir(c,!!h.multiple,W,!1):L!==!!h.multiple&&(h.defaultValue!=null?ir(c,!!h.multiple,h.defaultValue,!0):ir(c,!!h.multiple,h.multiple?[]:"",!1))}c[ms]=h}catch(Q){Ae(e,e.return,Q)}}break;case 6:if(Lt(t,e),Vt(e),a&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(Q){Ae(e,e.return,Q)}}break;case 3:if(Lt(t,e),Vt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(Q){Ae(e,e.return,Q)}break;case 4:Lt(t,e),Vt(e);break;case 13:Lt(t,e),Vt(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(el=Ie())),a&4&&kd(e);break;case 22:if($=s!==null&&s.memoizedState!==null,e.mode&1?(et=(N=et)||$,Lt(t,e),et=N):Lt(t,e),Vt(e),a&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!$&&(e.mode&1)!==0)for(H=e,$=e.child;$!==null;){for(D=H=$;H!==null;){switch(L=H,W=L.child,L.tag){case 0:case 11:case 14:case 15:Cs(4,L,L.return);break;case 1:kn(L,L.return);var G=L.stateNode;if(typeof G.componentWillUnmount=="function"){a=L,s=L.return;try{t=a,G.props=t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(Q){Ae(a,s,Q)}}break;case 5:kn(L,L.return);break;case 22:if(L.memoizedState!==null){jd(D);continue}}W!==null?(W.return=L,H=W):jd(D)}$=$.sibling}e:for($=null,D=e;;){if(D.tag===5){if($===null){$=D;try{c=D.stateNode,N?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=D.stateNode,x=D.memoizedProps.style,m=x!=null&&x.hasOwnProperty("display")?x.display:null,w.style.display=at("display",m))}catch(Q){Ae(e,e.return,Q)}}}else if(D.tag===6){if($===null)try{D.stateNode.nodeValue=N?"":D.memoizedProps}catch(Q){Ae(e,e.return,Q)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;$===D&&($=null),D=D.return}$===D&&($=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Lt(t,e),Vt(e),a&4&&kd(e);break;case 21:break;default:Lt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(wd(s)){var a=s;break e}s=s.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Or(c,""),a.flags&=-33);var h=_d(e);Ya(e,h,c);break;case 3:case 4:var m=a.stateNode.containerInfo,w=_d(e);Qa(e,w,m);break;default:throw Error(n(161))}}catch(x){Ae(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ug(e,t,s){H=e,bd(e)}function bd(e,t,s){for(var a=(e.mode&1)!==0;H!==null;){var c=H,h=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||Bi;if(!m){var w=c.alternate,x=w!==null&&w.memoizedState!==null||et;w=Bi;var N=et;if(Bi=m,(et=x)&&!N)for(H=c;H!==null;)m=H,x=m.child,m.tag===22&&m.memoizedState!==null?Cd(c):x!==null?(x.return=m,H=x):Cd(c);for(;h!==null;)H=h,bd(h),h=h.sibling;H=c,Bi=w,et=N}Ed(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,H=h):Ed(e)}}function Ed(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:et||zi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!et)if(s===null)a.componentDidMount();else{var c=t.elementType===t.type?s.memoizedProps:Rt(t.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&jc(t,h,a);break;case 3:var m=t.updateQueue;if(m!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}jc(t,m,s)}break;case 5:var w=t.stateNode;if(s===null&&t.flags&4){s=w;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&s.focus();break;case"img":x.src&&(s.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var $=N.memoizedState;if($!==null){var D=$.dehydrated;D!==null&&is(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}et||t.flags&512&&Ja(t)}catch(L){Ae(t,t.return,L)}}if(t===e){H=null;break}if(s=t.sibling,s!==null){s.return=t.return,H=s;break}H=t.return}}function jd(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var s=t.sibling;if(s!==null){s.return=t.return,H=s;break}H=t.return}}function Cd(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{zi(4,t)}catch(x){Ae(t,s,x)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(x){Ae(t,c,x)}}var h=t.return;try{Ja(t)}catch(x){Ae(t,h,x)}break;case 5:var m=t.return;try{Ja(t)}catch(x){Ae(t,m,x)}}}catch(x){Ae(t,t.return,x)}if(t===e){H=null;break}var w=t.sibling;if(w!==null){w.return=t.return,H=w;break}H=t.return}}var Mg=Math.ceil,Fi=F.ReactCurrentDispatcher,Xa=F.ReactCurrentOwner,Tt=F.ReactCurrentBatchConfig,pe=0,Ve=null,De=null,Ge=0,_t=0,Sn=fr(0),ze=0,Ts=null,Ur=0,Wi=0,Za=0,Os=null,dt=null,el=0,bn=1/0,Zt=null,Vi=!1,tl=null,wr=null,qi=!1,_r=null,Hi=0,Ps=0,rl=null,Ki=-1,Gi=0;function it(){return(pe&6)!==0?Ie():Ki!==-1?Ki:Ki=Ie()}function xr(e){return(e.mode&1)===0?1:(pe&2)!==0&&Ge!==0?Ge&-Ge:kg.transition!==null?(Gi===0&&(Gi=_u()),Gi):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Ou(e.type)),e)}function $t(e,t,s,a){if(50<Ps)throw Ps=0,rl=null,Error(n(185));es(e,s,a),((pe&2)===0||e!==Ve)&&(e===Ve&&((pe&2)===0&&(Wi|=s),ze===4&&kr(e,Ge)),ht(e,a),s===1&&pe===0&&(t.mode&1)===0&&(bn=Ie()+500,ki&&gr()))}function ht(e,t){var s=e.callbackNode;kp(e,t);var a=ni(e,e===Ve?Ge:0);if(a===0)s!==null&&yu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&yu(s),t===1)e.tag===0?xg(Od.bind(null,e)):pc(Od.bind(null,e)),yg(function(){(pe&6)===0&&gr()}),s=null;else{switch(xu(a)){case 1:s=Lo;break;case 4:s=vu;break;case 16:s=Zs;break;case 536870912:s=wu;break;default:s=Zs}s=Dd(s,Td.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Td(e,t){if(Ki=-1,Gi=0,(pe&6)!==0)throw Error(n(327));var s=e.callbackNode;if(En()&&e.callbackNode!==s)return null;var a=ni(e,e===Ve?Ge:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ji(e,a);else{t=a;var c=pe;pe|=2;var h=Nd();(Ve!==e||Ge!==t)&&(Zt=null,bn=Ie()+500,Br(e,t));do try{Fg();break}catch(w){Pd(e,w)}while(!0);_a(),Fi.current=h,pe=c,De!==null?t=0:(Ve=null,Ge=0,t=ze)}if(t!==0){if(t===2&&(c=$o(e),c!==0&&(a=c,t=nl(e,c))),t===1)throw s=Ts,Br(e,0),kr(e,a),ht(e,Ie()),s;if(t===6)kr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!Bg(c)&&(t=Ji(e,a),t===2&&(h=$o(e),h!==0&&(a=h,t=nl(e,h))),t===1))throw s=Ts,Br(e,0),kr(e,a),ht(e,Ie()),s;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:zr(e,dt,Zt);break;case 3:if(kr(e,a),(a&130023424)===a&&(t=el+500-Ie(),10<t)){if(ni(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){it(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ua(zr.bind(null,e,dt,Zt),t);break}zr(e,dt,Zt);break;case 4:if(kr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var m=31-Pt(a);h=1<<m,m=t[m],m>c&&(c=m),a&=~h}if(a=c,a=Ie()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Mg(a/1960))-a,10<a){e.timeoutHandle=ua(zr.bind(null,e,dt,Zt),a);break}zr(e,dt,Zt);break;case 5:zr(e,dt,Zt);break;default:throw Error(n(329))}}}return ht(e,Ie()),e.callbackNode===s?Td.bind(null,e):null}function nl(e,t){var s=Os;return e.current.memoizedState.isDehydrated&&(Br(e,t).flags|=256),e=Ji(e,t),e!==2&&(t=dt,dt=s,t!==null&&sl(t)),e}function sl(e){dt===null?dt=e:dt.push.apply(dt,e)}function Bg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],h=c.getSnapshot;c=c.value;try{if(!Nt(h(),c))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~Za,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Pt(t),a=1<<s;e[s]=-1,t&=~a}}function Od(e){if((pe&6)!==0)throw Error(n(327));En();var t=ni(e,0);if((t&1)===0)return ht(e,Ie()),null;var s=Ji(e,t);if(e.tag!==0&&s===2){var a=$o(e);a!==0&&(t=a,s=nl(e,a))}if(s===1)throw s=Ts,Br(e,0),kr(e,t),ht(e,Ie()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,dt,Zt),ht(e,Ie()),null}function il(e,t){var s=pe;pe|=1;try{return e(t)}finally{pe=s,pe===0&&(bn=Ie()+500,ki&&gr())}}function Mr(e){_r!==null&&_r.tag===0&&(pe&6)===0&&En();var t=pe;pe|=1;var s=Tt.transition,a=ye;try{if(Tt.transition=null,ye=1,e)return e()}finally{ye=a,Tt.transition=s,pe=t,(pe&6)===0&&gr()}}function ol(){_t=Sn.current,Ee(Sn)}function Br(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,mg(s)),De!==null)for(s=De.return;s!==null;){var a=s;switch(ga(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&_i();break;case 3:_n(),Ee(lt),Ee(Ye),Ta();break;case 5:ja(a);break;case 4:_n();break;case 13:Ee(Oe);break;case 19:Ee(Oe);break;case 10:xa(a.type._context);break;case 22:case 23:ol()}s=s.return}if(Ve=e,De=e=Sr(e.current,null),Ge=_t=t,ze=0,Ts=null,Za=Wi=Ur=0,dt=Os=null,Lr!==null){for(t=0;t<Lr.length;t++)if(s=Lr[t],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,h=s.pending;if(h!==null){var m=h.next;h.next=c,a.next=m}s.pending=a}Lr=null}return e}function Pd(e,t){do{var s=De;try{if(_a(),Ai.current=$i,Ri){for(var a=Pe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ri=!1}if(Dr=0,We=Be=Pe=null,ks=!1,Ss=0,Xa.current=null,s===null||s.return===null){ze=1,Ts=t,De=null;break}e:{var h=e,m=s.return,w=s,x=t;if(t=Ge,w.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var N=x,$=w,D=$.tag;if(($.mode&1)===0&&(D===0||D===11||D===15)){var L=$.alternate;L?($.updateQueue=L.updateQueue,$.memoizedState=L.memoizedState,$.lanes=L.lanes):($.updateQueue=null,$.memoizedState=null)}var W=td(m);if(W!==null){W.flags&=-257,rd(W,m,w,h,t),W.mode&1&&ed(h,N,t),t=W,x=N;var G=t.updateQueue;if(G===null){var Q=new Set;Q.add(x),t.updateQueue=Q}else G.add(x);break e}else{if((t&1)===0){ed(h,N,t),al();break e}x=Error(n(426))}}else if(je&&w.mode&1){var Le=td(m);if(Le!==null){(Le.flags&65536)===0&&(Le.flags|=256),rd(Le,m,w,h,t),va(xn(x,w));break e}}h=x=xn(x,w),ze!==4&&(ze=2),Os===null?Os=[h]:Os.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var T=Xc(h,x,t);Ec(h,T);break e;case 1:w=x;var b=h.type,O=h.stateNode;if((h.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(wr===null||!wr.has(O)))){h.flags|=65536,t&=-t,h.lanes|=t;var M=Zc(h,w,t);Ec(h,M);break e}}h=h.return}while(h!==null)}Rd(s)}catch(Y){t=Y,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function Nd(){var e=Fi.current;return Fi.current=$i,e===null?$i:e}function al(){(ze===0||ze===3||ze===2)&&(ze=4),Ve===null||(Ur&268435455)===0&&(Wi&268435455)===0||kr(Ve,Ge)}function Ji(e,t){var s=pe;pe|=2;var a=Nd();(Ve!==e||Ge!==t)&&(Zt=null,Br(e,t));do try{zg();break}catch(c){Pd(e,c)}while(!0);if(_a(),pe=s,Fi.current=a,De!==null)throw Error(n(261));return Ve=null,Ge=0,ze}function zg(){for(;De!==null;)Ad(De)}function Fg(){for(;De!==null&&!fp();)Ad(De)}function Ad(e){var t=$d(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?Rd(e):De=t,Xa.current=null}function Rd(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Ig(s,t,_t),s!==null){De=s;return}}else{if(s=Lg(s,t),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,De=null;return}}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);ze===0&&(ze=5)}function zr(e,t,s){var a=ye,c=Tt.transition;try{Tt.transition=null,ye=1,Wg(e,t,s,a)}finally{Tt.transition=c,ye=a}return null}function Wg(e,t,s,a){do En();while(_r!==null);if((pe&6)!==0)throw Error(n(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Sp(e,h),e===Ve&&(De=Ve=null,Ge=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||qi||(qi=!0,Dd(Zs,function(){return En(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=Tt.transition,Tt.transition=null;var m=ye;ye=1;var w=pe;pe|=4,Xa.current=null,Dg(e,s),Sd(s,e),ug(aa),oi=!!oa,aa=oa=null,e.current=s,Ug(s),pp(),pe=w,ye=m,Tt.transition=h}else e.current=s;if(qi&&(qi=!1,_r=e,Hi=c),h=e.pendingLanes,h===0&&(wr=null),yp(s.stateNode),ht(e,Ie()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)c=t[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Vi)throw Vi=!1,e=tl,tl=null,e;return(Hi&1)!==0&&e.tag!==0&&En(),h=e.pendingLanes,(h&1)!==0?e===rl?Ps++:(Ps=0,rl=e):Ps=0,gr(),null}function En(){if(_r!==null){var e=xu(Hi),t=Tt.transition,s=ye;try{if(Tt.transition=null,ye=16>e?16:e,_r===null)var a=!1;else{if(e=_r,_r=null,Hi=0,(pe&6)!==0)throw Error(n(331));var c=pe;for(pe|=4,H=e.current;H!==null;){var h=H,m=h.child;if((H.flags&16)!==0){var w=h.deletions;if(w!==null){for(var x=0;x<w.length;x++){var N=w[x];for(H=N;H!==null;){var $=H;switch($.tag){case 0:case 11:case 15:Cs(8,$,h)}var D=$.child;if(D!==null)D.return=$,H=D;else for(;H!==null;){$=H;var L=$.sibling,W=$.return;if(vd($),$===N){H=null;break}if(L!==null){L.return=W,H=L;break}H=W}}}var G=h.alternate;if(G!==null){var Q=G.child;if(Q!==null){G.child=null;do{var Le=Q.sibling;Q.sibling=null,Q=Le}while(Q!==null)}}H=h}}if((h.subtreeFlags&2064)!==0&&m!==null)m.return=h,H=m;else e:for(;H!==null;){if(h=H,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Cs(9,h,h.return)}var T=h.sibling;if(T!==null){T.return=h.return,H=T;break e}H=h.return}}var b=e.current;for(H=b;H!==null;){m=H;var O=m.child;if((m.subtreeFlags&2064)!==0&&O!==null)O.return=m,H=O;else e:for(m=b;H!==null;){if(w=H,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:zi(9,w)}}catch(Y){Ae(w,w.return,Y)}if(w===m){H=null;break e}var M=w.sibling;if(M!==null){M.return=w.return,H=M;break e}H=w.return}}if(pe=c,gr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ei,e)}catch{}a=!0}return a}finally{ye=s,Tt.transition=t}}return!1}function Id(e,t,s){t=xn(s,t),t=Xc(e,t,1),e=yr(e,t,1),t=it(),e!==null&&(es(e,1,t),ht(e,t))}function Ae(e,t,s){if(e.tag===3)Id(e,e,s);else for(;t!==null;){if(t.tag===3){Id(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wr===null||!wr.has(a))){e=xn(s,e),e=Zc(t,e,1),t=yr(t,e,1),e=it(),t!==null&&(es(t,1,e),ht(t,e));break}}t=t.return}}function Vg(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&s,Ve===e&&(Ge&s)===s&&(ze===4||ze===3&&(Ge&130023424)===Ge&&500>Ie()-el?Br(e,0):Za|=s),ht(e,t)}function Ld(e,t){t===0&&((e.mode&1)===0?t=1:(t=ri,ri<<=1,(ri&130023424)===0&&(ri=4194304)));var s=it();e=Qt(e,t),e!==null&&(es(e,t,s),ht(e,s))}function qg(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Ld(e,s)}function Hg(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),Ld(e,s)}var $d;$d=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ct=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return ct=!1,Rg(e,t,s);ct=(e.flags&131072)!==0}else ct=!1,je&&(t.flags&1048576)!==0&&gc(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Mi(e,t),e=t.pendingProps;var c=fn(t,Ye.current);wn(t,s),c=Na(null,t,a,e,c,s);var h=Aa();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(a)?(h=!0,xi(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ba(t),c.updater=Di,t.stateNode=c,c._reactInternals=t,Ua(t,a,e,s),t=Fa(null,t,a,!0,h,s)):(t.tag=0,je&&h&&pa(t),st(null,t,c,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=Gg(a),e=Rt(a,e),c){case 0:t=za(null,t,a,e,s);break e;case 1:t=ld(null,t,a,e,s);break e;case 11:t=nd(null,t,a,e,s);break e;case 14:t=sd(null,t,a,Rt(a.type,e),s);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Rt(a,c),za(e,t,a,c,s);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Rt(a,c),ld(e,t,a,c,s);case 3:e:{if(ud(t),e===null)throw Error(n(387));a=t.pendingProps,h=t.memoizedState,c=h.element,bc(e,t),Pi(t,a,null,s);var m=t.memoizedState;if(a=m.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=xn(Error(n(423)),t),t=cd(e,t,a,s,c);break e}else if(a!==c){c=xn(Error(n(424)),t),t=cd(e,t,a,s,c);break e}else for(wt=hr(t.stateNode.containerInfo.firstChild),vt=t,je=!0,At=null,s=kc(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(mn(),a===c){t=Xt(e,t,s);break e}st(e,t,a,s)}t=t.child}return t;case 5:return Cc(t),e===null&&ya(t),a=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,m=c.children,la(a,c)?m=null:h!==null&&la(a,h)&&(t.flags|=32),ad(e,t),st(e,t,m,s),t.child;case 6:return e===null&&ya(t),null;case 13:return dd(e,t,s);case 4:return Ea(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=yn(t,null,a,s):st(e,t,a,s),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Rt(a,c),nd(e,t,a,c,s);case 7:return st(e,t,t.pendingProps,s),t.child;case 8:return st(e,t,t.pendingProps.children,s),t.child;case 12:return st(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,h=t.memoizedProps,m=c.value,ke(Ci,a._currentValue),a._currentValue=m,h!==null)if(Nt(h.value,m)){if(h.children===c.children&&!lt.current){t=Xt(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var w=h.dependencies;if(w!==null){m=h.child;for(var x=w.firstContext;x!==null;){if(x.context===a){if(h.tag===1){x=Yt(-1,s&-s),x.tag=2;var N=h.updateQueue;if(N!==null){N=N.shared;var $=N.pending;$===null?x.next=x:(x.next=$.next,$.next=x),N.pending=x}}h.lanes|=s,x=h.alternate,x!==null&&(x.lanes|=s),ka(h.return,s,t),w.lanes|=s;break}x=x.next}}else if(h.tag===10)m=h.type===t.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(n(341));m.lanes|=s,w=m.alternate,w!==null&&(w.lanes|=s),ka(m,s,t),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===t){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}st(e,t,c.children,s),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,wn(t,s),c=jt(c),a=a(c),t.flags|=1,st(e,t,a,s),t.child;case 14:return a=t.type,c=Rt(a,t.pendingProps),c=Rt(a.type,c),sd(e,t,a,c,s);case 15:return id(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Rt(a,c),Mi(e,t),t.tag=1,ut(a)?(e=!0,xi(t)):e=!1,wn(t,s),Qc(t,a,c),Ua(t,a,c,s),Fa(null,t,a,!0,e,s);case 19:return fd(e,t,s);case 22:return od(e,t,s)}throw Error(n(156,t.tag))};function Dd(e,t){return mu(e,t)}function Kg(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,s,a){return new Kg(e,t,s,a)}function ll(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gg(e){if(typeof e=="function")return ll(e)?1:0;if(e!=null){if(e=e.$$typeof,e===St)return 11;if(e===rt)return 14}return 2}function Sr(e,t){var s=e.alternate;return s===null?(s=Ot(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Qi(e,t,s,a,c,h){var m=2;if(a=e,typeof e=="function")ll(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case Z:return Fr(s.children,c,h,t);case oe:m=8,c|=8;break;case we:return e=Ot(12,s,t,c|2),e.elementType=we,e.lanes=h,e;case Fe:return e=Ot(13,s,t,c),e.elementType=Fe,e.lanes=h,e;case ot:return e=Ot(19,s,t,c),e.elementType=ot,e.lanes=h,e;case _e:return Yi(s,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:m=10;break e;case Re:m=9;break e;case St:m=11;break e;case rt:m=14;break e;case He:m=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Ot(m,s,t,c),t.elementType=e,t.type=a,t.lanes=h,t}function Fr(e,t,s,a){return e=Ot(7,e,a,t),e.lanes=s,e}function Yi(e,t,s,a){return e=Ot(22,e,a,t),e.elementType=_e,e.lanes=s,e.stateNode={isHidden:!1},e}function ul(e,t,s){return e=Ot(6,e,null,t),e.lanes=s,e}function cl(e,t,s){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jg(e,t,s,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Do(0),this.expirationTimes=Do(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function dl(e,t,s,a,c,h,m,w,x){return e=new Jg(e,t,s,w,x),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Ot(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ba(h),e}function Qg(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function Ud(e){if(!e)return pr;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(ut(s))return hc(e,s,t)}return t}function Md(e,t,s,a,c,h,m,w,x){return e=dl(s,a,!0,e,c,h,m,w,x),e.context=Ud(null),s=e.current,a=it(),c=xr(s),h=Yt(a,c),h.callback=t??null,yr(s,h,c),e.current.lanes=c,es(e,c,a),ht(e,a),e}function Xi(e,t,s,a){var c=t.current,h=it(),m=xr(c);return s=Ud(s),t.context===null?t.context=s:t.pendingContext=s,t=Yt(h,m),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=yr(c,t,m),e!==null&&($t(e,c,m,h),Oi(e,c,m)),m}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function hl(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function Yg(){return null}var zd=typeof reportError=="function"?reportError:function(e){console.error(e)};function fl(e){this._internalRoot=e}eo.prototype.render=fl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Xi(e,t,null,null)},eo.prototype.unmount=fl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){Xi(null,e,null,null)}),t[Ht]=null}};function eo(e){this._internalRoot=e}eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=bu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ur.length&&t!==0&&t<ur[s].priority;s++);ur.splice(s,0,e),s===0&&Cu(e)}};function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function to(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fd(){}function Xg(e,t,s,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var N=Zi(m);h.call(N)}}var m=Md(t,a,e,0,null,!1,!1,"",Fd);return e._reactRootContainer=m,e[Ht]=m.current,ps(e.nodeType===8?e.parentNode:e),Mr(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var N=Zi(x);w.call(N)}}var x=dl(e,0,!1,null,null,!1,!1,"",Fd);return e._reactRootContainer=x,e[Ht]=x.current,ps(e.nodeType===8?e.parentNode:e),Mr(function(){Xi(t,x,s,a)}),x}function ro(e,t,s,a,c){var h=s._reactRootContainer;if(h){var m=h;if(typeof c=="function"){var w=c;c=function(){var x=Zi(m);w.call(x)}}Xi(t,m,e,c)}else m=Xg(s,t,e,c,a);return Zi(m)}ku=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Zn(t.pendingLanes);s!==0&&(Uo(t,s|1),ht(t,Ie()),(pe&6)===0&&(bn=Ie()+500,gr()))}break;case 13:Mr(function(){var a=Qt(e,1);if(a!==null){var c=it();$t(a,e,1,c)}}),hl(e,1)}},Mo=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var s=it();$t(t,e,134217728,s)}hl(e,134217728)}},Su=function(e){if(e.tag===13){var t=xr(e),s=Qt(e,t);if(s!==null){var a=it();$t(s,e,t,a)}hl(e,t)}},bu=function(){return ye},Eu=function(e,t){var s=ye;try{return ye=e,t()}finally{ye=s}},Jn=function(e,t,s){switch(t){case"input":if(Bn(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var c=wi(a);if(!c)throw Error(n(90));Vs(a),Bn(a,c)}}}break;case"textarea":Gs(e,s);break;case"select":t=s.value,t!=null&&ir(e,!!s.multiple,t,!1)}},uu=il,cu=Mr;var Zg={usingClientEntryPoint:!1,Events:[ys,dn,wi,au,lu,il]},Ns={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},em={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||Yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{ei=no.inject(em),Bt=no}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zg,ft.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pl(t))throw Error(n(200));return Qg(e,t,null,s)},ft.createRoot=function(e,t){if(!pl(e))throw Error(n(299));var s=!1,a="",c=zd;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=dl(e,1,!1,null,null,s,!1,a,c),e[Ht]=t.current,ps(e.nodeType===8?e.parentNode:e),new fl(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=pu(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Mr(e)},ft.hydrate=function(e,t,s){if(!to(t))throw Error(n(200));return ro(null,e,t,!0,s)},ft.hydrateRoot=function(e,t,s){if(!pl(e))throw Error(n(405));var a=s!=null&&s.hydratedSources||null,c=!1,h="",m=zd;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),t=Md(t,null,e,1,s??null,c,!1,h,m),e[Ht]=t.current,ps(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,c]:t.mutableSourceEagerHydrationData.push(s,c);return new eo(t)},ft.render=function(e,t,s){if(!to(t))throw Error(n(200));return ro(null,e,t,!1,s)},ft.unmountComponentAtNode=function(e){if(!to(e))throw Error(n(40));return e._reactRootContainer?(Mr(function(){ro(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1},ft.unstable_batchedUpdates=il,ft.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!to(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return ro(e,t,s,!1,a)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var Qd;function lm(){if(Qd)return yl.exports;Qd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),yl.exports=am(),yl.exports}var Yd;function um(){if(Yd)return so;Yd=1;var i=lm();return so.createRoot=i.createRoot,so.hydrateRoot=i.hydrateRoot,so}var cm=um();const dm="modulepreload",hm=function(i){return"/"+i},Xd={},kt=function(r,n,o){let l=Promise.resolve();if(n&&n.length>0){let d=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=d(n.map(y=>{if(y=hm(y),y in Xd)return;Xd[y]=!0;const v=y.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${S}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":dm,v||(_.as="script"),_.crossOrigin="",_.href=y,g&&_.setAttribute("nonce",g),document.head.appendChild(_),v)return new Promise((k,C)=>{_.addEventListener("load",k),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})};var z=Gl();const fm=Uh(z),Zv=Dh({__proto__:null,default:fm},[z]),Cr="srpafqbnneyqepywjdsa",Us="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNycGFmcWJubmV5cWVweXdqZHNhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzIzMjQsImV4cCI6MjA4MTA0ODMyNH0.1mVNoq2ipdADduk2eBCAkZSZYRkkZzVHYk837Joexqs";var er={},io={},Ol=function(i,r){return Ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},Ol(i,r)};function Mh(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Ol(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var wo=function(){return wo=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},wo.apply(this,arguments)};function $n(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(n[o[l]]=i[o[l]]);return n}function Bh(i,r,n,o){var l=arguments.length,u=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,o);else for(var p=i.length-1;p>=0;p--)(d=i[p])&&(u=(l<3?d(u):l>3?d(r,n,u):d(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function zh(i,r){return function(n,o){r(n,o,i)}}function Fh(i,r,n,o,l,u){function d(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var p=o.kind,g=p==="getter"?"get":p==="setter"?"set":"value",y=!r&&i?o.static?i:i.prototype:null,v=r||(y?Object.getOwnPropertyDescriptor(y,o.name):{}),S,_=!1,k=n.length-1;k>=0;k--){var C={};for(var P in o)C[P]=P==="access"?{}:o[P];for(var P in o.access)C.access[P]=o.access[P];C.addInitializer=function(I){if(_)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(I||null))};var j=(0,n[k])(p==="accessor"?{get:v.get,set:v.set}:v[g],C);if(p==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(S=d(j.get))&&(v.get=S),(S=d(j.set))&&(v.set=S),(S=d(j.init))&&l.unshift(S)}else(S=d(j))&&(p==="field"?l.unshift(S):v[g]=S)}y&&Object.defineProperty(y,o.name,v),_=!0}function Wh(i,r,n){for(var o=arguments.length>2,l=0;l<r.length;l++)n=o?r[l].call(i,n):r[l].call(i);return o?n:void 0}function Vh(i){return typeof i=="symbol"?i:"".concat(i)}function qh(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Hh(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function K(i,r,n,o){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function p(v){try{y(o.next(v))}catch(S){d(S)}}function g(v){try{y(o.throw(v))}catch(S){d(S)}}function y(v){v.done?u(v.value):l(v.value).then(p,g)}y((o=o.apply(i,r||[])).next())})}function Kh(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=p(0),d.throw=p(1),d.return=p(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(v){return g([y,v])}}function g(y){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(n=0)),n;)try{if(o=1,l&&(u=y[0]&2?l.return:y[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,y[1])).done)return u;switch(l=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=r.call(i,n)}catch(v){y=[6,v],l=0}finally{o=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var To=Object.create?(function(i,r,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,o,l)}):(function(i,r,n,o){o===void 0&&(o=n),i[o]=r[n]});function Gh(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&To(r,i,n)}function _o(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jl(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)u.push(l.value)}catch(p){d={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(d)throw d.error}}return u}function Jh(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(Jl(arguments[r]));return i}function Qh(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var o=Array(i),l=0,r=0;r<n;r++)for(var u=arguments[r],d=0,p=u.length;d<p;d++,l++)o[l]=u[d];return o}function Yh(i,r,n){if(n||arguments.length===2)for(var o=0,l=r.length,u;o<l;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return i.concat(u||Array.prototype.slice.call(r))}function In(i){return this instanceof In?(this.v=i,this):new In(i)}function Xh(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(k){return function(C){return Promise.resolve(C).then(k,S)}}function p(k,C){o[k]&&(l[k]=function(P){return new Promise(function(j,I){u.push([k,P,j,I])>1||g(k,P)})},C&&(l[k]=C(l[k])))}function g(k,C){try{y(o[k](C))}catch(P){_(u[0][3],P)}}function y(k){k.value instanceof In?Promise.resolve(k.value.v).then(v,S):_(u[0][2],k)}function v(k){g("next",k)}function S(k){g("throw",k)}function _(k,C){k(C),u.shift(),u.length&&g(u[0][0],u[0][1])}}function Zh(i){var r,n;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,u){r[l]=i[l]?function(d){return(n=!n)?{value:In(i[l](d)),done:!1}:u?u(d):d}:u}}function ef(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof _o=="function"?_o(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(d){return new Promise(function(p,g){d=i[u](d),l(p,g,d.done,d.value)})}}function l(u,d,p,g){Promise.resolve(g).then(function(y){u({value:y,done:p})},d)}}function tf(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var pm=Object.create?(function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}):function(i,r){i.default=r},Pl=function(i){return Pl=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},Pl(i)};function rf(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=Pl(i),o=0;o<n.length;o++)n[o]!=="default"&&To(r,i,n[o]);return pm(r,i),r}function nf(i){return i&&i.__esModule?i:{default:i}}function sf(i,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:r.get(i)}function of(i,r,n,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!l:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(i,n):l?l.value=n:r.set(i,n),n}function af(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function lf(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(l=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");l&&(o=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:o,async:n})}else n&&i.stack.push({async:!0});return r}var gm=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=r,o};function uf(i){function r(u){i.error=i.hasError?new gm(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,o=0;function l(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else o|=1}catch(d){r(d)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function cf(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,l,u,d){return o?r?".jsx":".js":l&&(!u||!d)?n:l+u+"."+d.toLowerCase()+"js"}):i}const mm={__extends:Mh,__assign:wo,__rest:$n,__decorate:Bh,__param:zh,__esDecorate:Fh,__runInitializers:Wh,__propKey:Vh,__setFunctionName:qh,__metadata:Hh,__awaiter:K,__generator:Kh,__createBinding:To,__exportStar:Gh,__values:_o,__read:Jl,__spread:Jh,__spreadArrays:Qh,__spreadArray:Yh,__await:In,__asyncGenerator:Xh,__asyncDelegator:Zh,__asyncValues:ef,__makeTemplateObject:tf,__importStar:rf,__importDefault:nf,__classPrivateFieldGet:sf,__classPrivateFieldSet:of,__classPrivateFieldIn:af,__addDisposableResource:lf,__disposeResources:uf,__rewriteRelativeImportExtension:cf},ym=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lf,get __assign(){return wo},__asyncDelegator:Zh,__asyncGenerator:Xh,__asyncValues:ef,__await:In,__awaiter:K,__classPrivateFieldGet:sf,__classPrivateFieldIn:af,__classPrivateFieldSet:of,__createBinding:To,__decorate:Bh,__disposeResources:uf,__esDecorate:Fh,__exportStar:Gh,__extends:Mh,__generator:Kh,__importDefault:nf,__importStar:rf,__makeTemplateObject:tf,__metadata:Hh,__param:zh,__propKey:Vh,__read:Jl,__rest:$n,__rewriteRelativeImportExtension:cf,__runInitializers:Wh,__setFunctionName:qh,__spread:Jh,__spreadArray:Yh,__spreadArrays:Qh,__values:_o,default:mm},Symbol.toStringTag,{value:"Module"})),vm=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);let Oo=class extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}},df=class extends Oo{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},Nl=class extends Oo{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},Al=class extends Oo{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}};var xo;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(xo||(xo={}));class wm{constructor(r,{headers:n={},customFetch:o,region:l=xo.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=vm(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return K(this,arguments,void 0,function*(n,o={}){var l;let u,d;try{const{headers:p,method:g,body:y,signal:v,timeout:S}=o;let _={},{region:k}=o;k||(k=this.region);const C=new URL(`${this.url}/${n}`);k&&k!=="any"&&(_["x-region"]=k,C.searchParams.set("forceFunctionRegion",k));let P;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",P=y):typeof y=="string"?(_["Content-Type"]="text/plain",P=y):typeof FormData<"u"&&y instanceof FormData?P=y:(_["Content-Type"]="application/json",P=JSON.stringify(y)):P=y;let j=v;S&&(d=new AbortController,u=setTimeout(()=>d.abort(),S),v?(j=d.signal,v.addEventListener("abort",()=>d.abort())):j=d.signal);const I=yield this.fetch(C.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:P,signal:j}).catch(V=>{throw new df(V)}),U=I.headers.get("x-relay-error");if(U&&U==="true")throw new Nl(I);if(!I.ok)throw new Al(I);let R=((l=I.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),F;return R==="application/json"?F=yield I.json():R==="application/octet-stream"||R==="application/pdf"?F=yield I.blob():R==="text/event-stream"?F=I:R==="multipart/form-data"?F=yield I.formData():F=yield I.text(),{data:F,error:null,response:I}}catch(p){return{data:null,error:p,response:p instanceof Al||p instanceof Nl?p.context:void 0}}finally{u&&clearTimeout(u)}})}}const _m=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return xo},FunctionsClient:wm,FunctionsError:Oo,FunctionsFetchError:df,FunctionsHttpError:Al,FunctionsRelayError:Nl},Symbol.toStringTag,{value:"Module"})),hf=zs(_m);var tt={};const Dn=zs(ym);var oo={},ao={},lo={},uo={},co={},ho={},Zd;function ff(){if(Zd)return ho;Zd=1,Object.defineProperty(ho,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ho.default=i,ho}var eh;function pf(){if(eh)return co;eh=1,Object.defineProperty(co,"__esModule",{value:!0});const r=Dn.__importDefault(ff());let n=class{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,S,_;let k=null,C=null,P=null,j=g.status,I=g.statusText;if(g.ok){if(this.method!=="HEAD"){const V=await g.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?C=V:C=JSON.parse(V))}const R=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),F=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");R&&F&&F.length>1&&(P=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(k={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,P=null,j=406,I="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const R=await g.text();try{k=JSON.parse(R),Array.isArray(k)&&g.status===404&&(C=[],k=null,j=200,I="OK")}catch{g.status===404&&R===""?(j=204,I="No Content"):k={message:R}}if(k&&this.isMaybeSingle&&(!((_=k?.details)===null||_===void 0)&&_.includes("0 rows"))&&(k=null,j=200,I="OK"),k&&this.shouldThrowOnError)throw new r.default(k)}return{error:k,data:C,count:P,status:j,statusText:I}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,v,S,_,k,C;let P="";const j=g?.cause;if(j){const I=(y=j?.message)!==null&&y!==void 0?y:"",U=(v=j?.code)!==null&&v!==void 0?v:"";P=`${(S=g?.name)!==null&&S!==void 0?S:"FetchError"}: ${g?.message}`,P+=`

Caused by: ${(_=j?.name)!==null&&_!==void 0?_:"Error"}: ${I}`,U&&(P+=` (${U})`),j?.stack&&(P+=`
${j.stack}`)}else P=(k=g?.stack)!==null&&k!==void 0?k:"";return{error:{message:`${(C=g?.name)!==null&&C!==void 0?C:"FetchError"}: ${g?.message}`,details:P,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(l,u)}returns(){return this}overrideTypes(){return this}};return co.default=n,co}var th;function gf(){if(th)return uo;th=1,Object.defineProperty(uo,"__esModule",{value:!0});const r=Dn.__importDefault(pf());let n=class extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:p=d}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(y,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var v;const S=[l?"analyze":null,u?"verbose":null,d?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${_}"; options=${S};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return uo.default=n,uo}var rh;function Ql(){if(rh)return lo;rh=1,Object.defineProperty(lo,"__esModule",{value:!0});const r=Dn.__importDefault(gf()),n=new RegExp("[,()]");let o=class extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const p=Array.from(new Set(d)).map(g=>typeof g=="string"&&n.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:p,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const v=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${y}fts${v}.${d}`),this}match(u){return Object.entries(u).forEach(([d,p])=>{this.url.searchParams.append(d,`eq.${p}`)}),this}not(u,d,p){return this.url.searchParams.append(u,`not.${d}.${p}`),this}or(u,{foreignTable:d,referencedTable:p=d}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,d,p){return this.url.searchParams.append(u,`${d}.${p}`),this}};return lo.default=o,lo}var nh;function mf(){if(nh)return ao;nh=1,Object.defineProperty(ao,"__esModule",{value:!0});const r=Dn.__importDefault(Ql());let n=class{constructor(l,{headers:u={},schema:d,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=p}select(l,u){const{head:d=!1,count:p}=u??{},g=d?"HEAD":"GET";let y=!1;const v=(l??"*").split("").map(S=>/\s/.test(S)&&!y?"":(S==='"'&&(y=!y),S)).join("");return this.url.searchParams.set("select",v),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var p;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((v,S)=>v.concat(Object.keys(S)),[]);if(y.length>0){const v=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:p,defaultToNull:g=!0}={}){var y;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const S=l.reduce((_,k)=>_.concat(Object.keys(k)),[]);if(S.length>0){const _=[...new Set(S)].map(k=>`"${k}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(l,{count:u}={}){var d;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return ao.default=n,ao}var sh;function xm(){if(sh)return oo;sh=1,Object.defineProperty(oo,"__esModule",{value:!0});const i=Dn,r=i.__importDefault(mf()),n=i.__importDefault(Ql());let o=class yf{constructor(u,{headers:d={},schema:p,fetch:g}={}){this.url=u,this.headers=new Headers(d),this.schemaName=p,this.fetch=g}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new yf(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:p=!1,get:g=!1,count:y}={}){var v;let S;const _=new URL(`${this.url}/rpc/${u}`);let k;p||g?(S=p?"HEAD":"GET",Object.entries(d).filter(([P,j])=>j!==void 0).map(([P,j])=>[P,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([P,j])=>{_.searchParams.append(P,j)})):(S="POST",k=d);const C=new Headers(this.headers);return y&&C.set("Prefer",`count=${y}`),new n.default({method:S,url:_,headers:C,schema:this.schemaName,body:k,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return oo.default=o,oo}var ih;function vf(){if(ih)return tt;ih=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const i=Dn,r=i.__importDefault(xm());tt.PostgrestClient=r.default;const n=i.__importDefault(mf());tt.PostgrestQueryBuilder=n.default;const o=i.__importDefault(Ql());tt.PostgrestFilterBuilder=o.default;const l=i.__importDefault(gf());tt.PostgrestTransformBuilder=l.default;const u=i.__importDefault(pf());tt.PostgrestBuilder=u.default;const d=i.__importDefault(ff());return tt.PostgrestError=d.default,tt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},tt}class wf{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const km="2.87.1",Sm=`realtime-js/${km}`,_f="1.0.0",bm="2.0.0",oh=_f,Rl=1e4,Em=1e3,jm=100;var Gr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Gr||(Gr={}));var Ue;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ue||(Ue={}));var Mt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Mt||(Mt={}));var Il;(function(i){i.websocket="websocket"})(Il||(Il={}));var Jr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Jr||(Jr={}));class Cm{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,n,o){var l,u;const d=r.topic,p=(l=r.ref)!==null&&l!==void 0?l:"",g=(u=r.join_ref)!==null&&u!==void 0?u:"",y=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},S=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+d.length+y.length+S.length,k=new ArrayBuffer(this.HEADER_LENGTH+_);let C=new DataView(k),P=0;C.setUint8(P++,this.KINDS.userBroadcastPush),C.setUint8(P++,g.length),C.setUint8(P++,p.length),C.setUint8(P++,d.length),C.setUint8(P++,y.length),C.setUint8(P++,S.length),C.setUint8(P++,n),Array.from(g,I=>C.setUint8(P++,I.charCodeAt(0))),Array.from(p,I=>C.setUint8(P++,I.charCodeAt(0))),Array.from(d,I=>C.setUint8(P++,I.charCodeAt(0))),Array.from(y,I=>C.setUint8(P++,I.charCodeAt(0))),Array.from(S,I=>C.setUint8(P++,I.charCodeAt(0)));var j=new Uint8Array(k.byteLength+o.byteLength);return j.set(new Uint8Array(k),0),j.set(new Uint8Array(o),k.byteLength),j.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,d,p,g]=o;return n({join_ref:l,ref:u,topic:d,event:p,payload:g})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),p=n.getUint8(4);let g=this.HEADER_LENGTH+4;const y=o.decode(r.slice(g,g+l));g=g+l;const v=o.decode(r.slice(g,g+u));g=g+u;const S=o.decode(r.slice(g,g+d));g=g+d;const _=r.slice(g,r.byteLength),k=p===this.JSON_ENCODING?JSON.parse(o.decode(_)):_,C={type:this.BROADCAST_EVENT,event:v,payload:k};return d>0&&(C.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class xf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Se||(Se={}));const ah=(i,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=Tm(d,i,r,l),u),{}):{}},Tm=(i,r,n,o)=>{const l=r.find(p=>p.name===i),u=l?.type,d=n[i];return u&&!o.includes(u)?kf(u,d):Ll(d)},kf=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Am(r,n)}switch(i){case Se.bool:return Om(r);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Pm(r);case Se.json:case Se.jsonb:return Nm(r);case Se.timestamp:return Rm(r);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Ll(r);default:return Ll(r)}},Ll=i=>i,Om=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Pm=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},Nm=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},Am=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const d=i.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>kf(r,p))}return i},Rm=i=>typeof i=="string"?i.replace(" ","T"):i,Sf=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class _l{constructor(r,n,o={},l=Rl){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var $l;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})($l||($l={}));let bf=class go{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=go.syncState(this.state,l,u,d),this.pendingDiffs.forEach(g=>{this.state=go.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=go.syncDiff(this.state,l,u,d),p())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),d=this.transformState(n),p={},g={};return this.map(u,(y,v)=>{d[y]||(g[y]=v)}),this.map(d,(y,v)=>{const S=u[y];if(S){const _=v.map(j=>j.presence_ref),k=S.map(j=>j.presence_ref),C=v.filter(j=>k.indexOf(j.presence_ref)<0),P=S.filter(j=>_.indexOf(j.presence_ref)<0);C.length>0&&(p[y]=C),P.length>0&&(g[y]=P)}else p[y]=v}),this.syncDiff(u,{joins:p,leaves:g},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,g)=>{var y;const v=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(g),v.length>0){const S=r[p].map(k=>k.presence_ref),_=v.filter(k=>S.indexOf(k.presence_ref)<0);r[p].unshift(..._)}o(p,v,g)}),this.map(d,(p,g)=>{let y=r[p];if(!y)return;const v=g.map(S=>S.presence_ref);y=y.filter(S=>v.indexOf(S.presence_ref)<0),r[p]=y,l(p,y,g),y.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Dl;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Dl||(Dl={}));var An;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(An||(An={}));var qt;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));const Im=Ue;let Ef=class Ls{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _l(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new xf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new bf(this),this.broadcastEndpointURL=Sf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:d,presence:p,private:g}}=this.params,y=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(k=>k.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[An.PRESENCE]&&this.bindings[An.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,S={},_={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(k=>r?.(qt.CHANNEL_ERROR,k)),this._onClose(()=>r?.(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:_},S)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:k})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){r?.(qt.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,j=(C=P?.length)!==null&&C!==void 0?C:0,I=[];for(let U=0;U<j;U++){const R=P[U],{filter:{event:F,schema:V,table:J,filter:Z}}=R,oe=k&&k[U];if(oe&&oe.event===F&&Ls.isFilterValueEqual(oe.schema,V)&&Ls.isFilterValueEqual(oe.table,J)&&Ls.isFilterValueEqual(oe.filter,Z))I.push(Object.assign(Object.assign({},R),{id:oe.id}));else{this.unsubscribe(),this.state=Ue.errored,r?.(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,r&&r(qt.SUBSCRIBED);return}}).receive("error",k=>{this.state=Ue.errored,r?.(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{r?.(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===Ue.joined&&r===An.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const y=await p.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,g;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new _l(this,Mt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new _l(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>jm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const d=r.toLocaleLowerCase(),{close:p,error:g,leave:y,join:v}=Mt;if(o&&[p,g,y,v].indexOf(d)>=0&&o!==this._joinRef())return;let _=this._onMessage(d,n,o);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(k=>{var C,P,j;return((C=k.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(P=k.filter)===null||P===void 0?void 0:P.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(k=>k.callback(_,o)):(u=this.bindings[d])===null||u===void 0||u.filter(k=>{var C,P,j,I,U,R;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in k){const F=k.id,V=(C=k.filter)===null||C===void 0?void 0:C.event;return F&&((P=n.ids)===null||P===void 0?void 0:P.includes(F))&&(V==="*"||V?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const F=(U=(I=k?.filter)===null||I===void 0?void 0:I.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return F==="*"||F===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===d}).map(k=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:P,table:j,commit_timestamp:I,type:U,errors:R}=C;_=Object.assign(Object.assign({},{schema:P,table:j,commit_timestamp:I,eventType:U,new:{},old:{},errors:R}),this._getPayloadRecords(C))}k.callback(_,o)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Ls.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Mt.close,{},r)}_onError(r){this._on(Mt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=ah(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=ah(r.columns,r.old_record)),n}};const xl=()=>{},fo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lm=[1e3,2e3,5e3,1e4],$m=1e4,Dm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Um=class{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rl,this.transport=null,this.heartbeatIntervalMs=fo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xl,this.ref=0,this.reconnectTimer=null,this.vsn=oh,this.logger=xl,this.conn=null,this.sendBuffer=[],this.serializer=new Cm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Il.websocket}`,this.httpEndpoint=Sf(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wf.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return Jr.Connecting;case Gr.open:return Jr.Open;case Gr.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Ef(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,d=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Em,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:d}=n,p=d?`(${d})`:"",g=u.status||"";this.log("receive",`${g} ${o} ${l} ${p}`.trim(),u),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gr.open||this.conn.readyState===Gr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Mt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([Dm],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,o=!1;if(r)n=r,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const u={access_token:n,version:Sm};n&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Mt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new xf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,d,p,g,y,v,S,_,k;switch(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r?.timeout)!==null&&o!==void 0?o:Rl,this.heartbeatIntervalMs=(l=r?.heartbeatIntervalMs)!==null&&l!==void 0?l:fo.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:xl,this.vsn=(g=r?.vsn)!==null&&g!==void 0?g:oh,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r?.reconnectAfterMs)!==null&&y!==void 0?y:(C=>Lm[C-1]||$m),this.vsn){case _f:this.encode=(v=r?.encode)!==null&&v!==void 0?v:((C,P)=>P(JSON.stringify(C))),this.decode=(S=r?.decode)!==null&&S!==void 0?S:((C,P)=>P(JSON.parse(C)));break;case bm:this.encode=(_=r?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(k=r?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}};const Mm=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Im,get REALTIME_LISTEN_TYPES(){return An},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Dl},get REALTIME_PRESENCE_LISTEN_EVENTS(){return $l},get REALTIME_SUBSCRIBE_STATES(){return qt},RealtimeChannel:Ef,RealtimeClient:Um,RealtimePresence:bf,WebSocketFactory:wf},Symbol.toStringTag,{value:"Module"})),jf=zs(Mm);class Fs extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ce(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Cf extends Fs{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ko extends Fs{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const Yl=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Bm=()=>Response,Ul=i=>{if(Array.isArray(i))return i.map(n=>Ul(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Ul(o)}),r},zm=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Fm=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),kl=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},Wm=(i,r,n)=>K(void 0,void 0,void 0,function*(){const o=yield Bm();i instanceof o&&!n?.noResolveJson?i.json().then(l=>{const u=i.status||500,d=l?.statusCode||u+"";r(new Cf(kl(l),u,d))}).catch(l=>{r(new ko(kl(l),l))}):r(new ko(kl(i),i))}),Vm=(i,r,n,o)=>{const l={method:i,headers:r?.headers||{}};return i==="GET"||!o?l:(zm(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(o)):l.body=o,r?.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Ws(i,r,n,o,l,u){return K(this,void 0,void 0,function*(){return new Promise((d,p)=>{i(n,Vm(r,o,l,u)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>Wm(g,p,o))})})}function Ms(i,r,n,o){return K(this,void 0,void 0,function*(){return Ws(i,"GET",r,n,o)})}function Ut(i,r,n,o,l){return K(this,void 0,void 0,function*(){return Ws(i,"POST",r,o,l,n)})}function Ml(i,r,n,o,l){return K(this,void 0,void 0,function*(){return Ws(i,"PUT",r,o,l,n)})}function qm(i,r,n,o){return K(this,void 0,void 0,function*(){return Ws(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function Xl(i,r,n,o,l){return K(this,void 0,void 0,function*(){return Ws(i,"DELETE",r,o,l,n)})}class Hm{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}}var Tf;class Km{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Tf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hm(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}}Tf=Symbol.toStringTag;const Gm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jm{constructor(r,n={},o,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=Yl(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,l){return K(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},lh),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),g&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(g))):(u=o,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const y=this._removeEmptyFolders(n),v=this._getFinalPath(y),S=yield(r=="PUT"?Ml:Ut)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:p},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ce(u))return{data:null,error:u};throw u}})}upload(r,n,o){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,l){return K(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${d}`);p.searchParams.set("token",n);try{let g;const y=Object.assign({upsert:lh.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",y.cacheControl)):(g=o,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const S=yield Ml(this.fetch,p.toString(),g,{headers:v});return{data:{path:u,fullPath:S.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ce(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,n){return K(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const u=yield Ut(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(this.url+u.url),p=d.searchParams.get("token");if(!p)throw new Fs("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}update(r,n,o){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return K(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}})}copy(r,n,o){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,o){return K(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield Ut(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,o){return K(this,void 0,void 0,function*(){try{const l=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),d=u?`?${u}`:"",p=this._getFinalPath(r),g=()=>Ms(this.fetch,`${this.url}/${l}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new Km(g,this.shouldThrowOnError)}info(r){return K(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield Ms(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ul(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}exists(r){return K(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield qm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o)&&o instanceof ko){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const p=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&l.push(g);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${y}`)}}}remove(r){return K(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}list(r,n,o){return K(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Gm),n),{prefix:r||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}})}listV2(r,n){return K(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const Of="2.87.1",Pf={"X-Client-Info":`storage-js/${Of}`};class Qm{constructor(r,n={},o,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pf),n),this.fetch=Yl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return K(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Ms(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}getBucket(r){return K(this,void 0,void 0,function*(){try{return{data:yield Ms(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}createBucket(r){return K(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return K(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}emptyBucket(r){return K(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(r){return K(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Bs=class extends Error{constructor(i,r){super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ym(i,r,n){const o=new URL(r,i);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function Xm(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Zm(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:u,headers:d}){const p=Ym(i.baseUrl,o,l),g=await Xm(i.auth),y=await r(p,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...g,...d},body:u?JSON.stringify(u):void 0}),v=await y.text(),S=(y.headers.get("content-type")||"").includes("application/json"),_=S&&v?JSON.parse(v):v;if(!y.ok){const k=S?_:void 0,C=k?.error;throw new Bs(C?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:C?.type,icebergCode:C?.code,details:k})}return{status:y.status,headers:y.headers,data:_}}}}function po(i){return i.join("")}var ey=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:po(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,r){const n={namespace:i.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${po(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${po(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${po(i.namespace)}`}),!0}catch(r){if(r instanceof Bs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(n){if(n instanceof Bs&&n.status===409)return;throw n}}};function jn(i){return i.join("")}var ty=class{constructor(i,r="",n){this.client=i,this.prefix=r,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jn(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jn(i.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(i,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jn(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jn(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jn(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jn(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(n){if(n instanceof Bs&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(n){if(n instanceof Bs&&n.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw n}}},ry=class{constructor(i){let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Zm({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new ey(this.client,r),this.tableOps=new ty(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}};class Nf{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pf),n),this.fetch=Yl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return K(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}listBuckets(r){return K(this,void 0,void 0,function*(){try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const o=n.toString(),l=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Ms(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(r){return K(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}from(r){if(!Fm(r))throw new Fs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ry({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>K(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(u,d){const p=u[d];return typeof p!="function"?p:(...g)=>K(this,void 0,void 0,function*(){try{return{data:yield p.apply(u,g),error:null}}catch(y){if(o)throw y;return{data:null,error:y}}})}})}}const Zl={"X-Client-Info":`storage-js/${Of}`,"Content-Type":"application/json"};class eu extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class mo extends eu{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Af extends eu{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Bl;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bl||(Bl={}));const Po=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),ny=()=>Response,Rf=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},sy=i=>Array.from(new Float32Array(i)),iy=(i,r)=>{if(r!==void 0&&i.float32.length!==r)throw new Error(`Vector dimension mismatch: expected ${r}, got ${i.float32.length}`)},uh=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),oy=(i,r,n)=>K(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const p=d?.statusCode||d?.code||l+"";r(new mo(uh(d),l,p))}).catch(()=>{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new mo(p,l,d))});else{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new mo(p,l,d))}}else r(new Af(uh(i),i))}),ay=(i,r,n,o)=>{const l={method:i,headers:r?.headers||{}};return o?(Rf(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),n)):l};function ly(i,r,n,o,l,u){return K(this,void 0,void 0,function*(){return new Promise((d,p)=>{i(n,ay(r,o,l,u)).then(g=>{if(!g.ok)throw g;if(o?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>oy(g,p,o))})})}function xt(i,r,n,o,l){return K(this,void 0,void 0,function*(){return ly(i,"POST",r,o,l,n)})}class If{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zl),n),this.fetch=Po(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return K(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getIndex(r,n){return K(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}listIndexes(r){return K(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return K(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}}class Lf{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zl),n),this.fetch=Po(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return K(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getVectors(r){return K(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listVectors(r){return K(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield xt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}queryVectors(r){return K(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteVectors(r){return K(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class $f{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zl),n),this.fetch=Po(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return K(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getBucket(r){return K(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBuckets(){return K(this,arguments,void 0,function*(r={}){try{return{data:yield xt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(r){return K(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class Df extends $f{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Uf(this.url,this.headers,r,this.fetch)}createBucket(r){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return K(this,void 0,void 0,function*(){return n.createBucket.call(this,r)})}getBucket(r){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return K(this,void 0,void 0,function*(){return n.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return K(this,arguments,void 0,function*(n={}){return r.listBuckets.call(this,n)})}deleteBucket(r){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return K(this,void 0,void 0,function*(){return n.deleteBucket.call(this,r)})}}class Uf extends If{constructor(r,n,o,l){super(r,n,l),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Mf(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Mf extends Lf{constructor(r,n,o,l,u){super(r,n,u),this.vectorBucketName=o,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uy extends Qm{constructor(r,n={},o,l){super(r,n,o,l)}from(r){return new Jm(this.url,this.headers,r,this.fetch)}get vectors(){return new Df(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nf(this.url+"/iceberg",this.headers,this.fetch)}}const cy=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Nf,StorageApiError:Cf,StorageClient:uy,StorageError:Fs,StorageUnknownError:ko,StorageVectorsApiError:mo,StorageVectorsClient:Df,StorageVectorsError:eu,get StorageVectorsErrorCode(){return Bl},StorageVectorsUnknownError:Af,VectorBucketApi:$f,VectorBucketScope:Uf,VectorDataApi:Lf,VectorIndexApi:If,VectorIndexScope:Mf,isPlainObject:Rf,isStorageError:Ce,isStorageVectorsError:mt,normalizeToFloat32:sy,resolveFetch:Po,resolveResponse:ny,validateVectorDimension:iy},Symbol.toStringTag,{value:"Module"})),dy=zs(cy);var Sl={},Rs={},ch;function hy(){return ch||(ch=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.version=void 0,Rs.version="2.87.1"),Rs}var dh;function fy(){return dh||(dh=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const r=hy();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${r.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(Sl)),Sl}var bl={},hh;function py(){return hh||(hh=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const r=l=>l?(...u)=>l(...u):(...u)=>fetch(...u);i.resolveFetch=r;const n=()=>Headers;i.resolveHeadersConstructor=n;const o=(l,u,d)=>{const p=(0,i.resolveFetch)(d),g=(0,i.resolveHeadersConstructor)();return async(y,v)=>{var S;const _=(S=await u())!==null&&S!==void 0?S:l;let k=new g(v?.headers);return k.has("apikey")||k.set("apikey",l),k.has("Authorization")||k.set("Authorization",`Bearer ${_}`),p(y,Object.assign(Object.assign({},v),{headers:k}))}};i.fetchWithAuth=o})(bl)),bl}var tr={},fh;function gy(){if(fh)return tr;fh=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.isBrowser=void 0,tr.uuid=i,tr.ensureTrailingSlash=r,tr.applySettingDefaults=o,tr.validateSupabaseUrl=l;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var d=Math.random()*16|0,p=u=="x"?d:d&3|8;return p.toString(16)})}function r(u){return u.endsWith("/")?u:u+"/"}const n=()=>typeof window<"u";tr.isBrowser=n;function o(u,d){var p,g;const{db:y,auth:v,realtime:S,global:_}=u,{db:k,auth:C,realtime:P,global:j}=d,I={db:Object.assign(Object.assign({},k),y),auth:Object.assign(Object.assign({},C),v),realtime:Object.assign(Object.assign({},P),S),storage:{},global:Object.assign(Object.assign(Object.assign({},j),_),{headers:Object.assign(Object.assign({},(p=j?.headers)!==null&&p!==void 0?p:{}),(g=_?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return u.accessToken?I.accessToken=u.accessToken:delete I.accessToken,I}function l(u){const d=u?.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return tr}var Is={};const Bf="2.87.1",Pn=30*1e3,zl=3,El=zl*Pn,my="http://localhost:9999",yy="supabase.auth.token",vy={"X-Client-Info":`gotrue-js/${Bf}`},Fl="X-Supabase-Api-Version",zf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_y=600*1e3;let Ln=class extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}};function X(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let Ff=class extends Ln{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}};function Wf(i){return X(i)&&i.name==="AuthApiError"}let Er=class extends Ln{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}},sr=class extends Ln{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}},gt=class extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Vf(i){return X(i)&&i.name==="AuthSessionMissingError"}let qr=class extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$s=class extends sr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},Ds=class extends sr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function qf(i){return X(i)&&i.name==="AuthImplicitGrantRedirectError"}let Wl=class extends sr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},So=class extends sr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}};function yo(i){return X(i)&&i.name==="AuthRetryableFetchError"}let Vl=class extends sr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}};function xy(i){return X(i)&&i.name==="AuthWeakPasswordError"}let bo=class extends sr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}};const Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ph=` 	
\r=`.split(""),ky=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<ph.length;r+=1)i[ph[r].charCodeAt(0)]=-2;for(let r=0;r<Eo.length;r+=1)i[Eo[r].charCodeAt(0)]=r;return i})();function gh(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Eo[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Eo[o]),r.queuedBits-=6}}function Hf(i,r,n){const o=ky[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function mh(i){const r=[],n=d=>{r.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{Ey(d,o,n)};for(let d=0;d<i.length;d+=1)Hf(i.charCodeAt(d),l,u);return r.join("")}function Sy(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function by(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Sy(o,r)}}function Ey(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Rn(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)Hf(i.charCodeAt(l),n,o);return new Uint8Array(r)}function jy(i){const r=[];return by(i,n=>r.push(n)),new Uint8Array(r)}function Yr(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return i.forEach(l=>gh(l,n,o)),gh(null,n,o),r.join("")}function Cy(i){return Math.round(Date.now()/1e3)+i}function Ty(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},Kf=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function Oy(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const Gf=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Py=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Nn=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},Vr=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Je=async(i,r)=>{await i.removeItem(r)};class No{constructor(){this.promise=new No.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}No.promiseConstructor=Promise;function jl(i){const r=i.split(".");if(r.length!==3)throw new bo("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!wy.test(r[o]))throw new bo("JWT not in base64url format");return{header:JSON.parse(mh(r[0])),payload:JSON.parse(mh(r[1])),signature:Rn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Ny(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function Ay(i,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!r(u,null,d)){o(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function Ry(i){return("0"+i.toString(16)).substr(-2)}function Iy(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Ry).join("")}async function Ly(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function $y(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await Ly(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cn(i,r,n=!1){const o=Iy();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await Nn(i,`${r}-code-verifier`,l);const u=await $y(o);return[u,o===u?"plain":"s256"]}const Dy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uy(i){const r=i.headers.get(Fl);if(!r||!r.match(Dy))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function My(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function By(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tn(i){if(!zy.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cl(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fy(i,r){return new Proxy(i,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function yh(i){return JSON.parse(JSON.stringify(i))}const Hr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Wy=[502,503,504];async function vh(i){var r;if(!Py(i))throw new So(Hr(i),0);if(Wy.includes(i.status))throw new So(Hr(i),i.status);let n;try{n=await i.json()}catch(u){throw new Er(Hr(u),u)}let o;const l=Uy(i);if(l&&l.getTime()>=zf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Vl(Hr(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Vl(Hr(n),i.status,n.weak_password.reasons);throw new Ff(Hr(n),i.status||500,o)}const Vy=(i,r,n,o)=>{const l={method:i,headers:r?.headers||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function se(i,r,n,o){var l;const u=Object.assign({},o?.headers);u[Fl]||(u[Fl]=zf["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await qy(i,r,n+p,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function qy(i,r,n,o,l,u){const d=Vy(r,o,l,u);let p;try{p=await i(n,Object.assign({},d))}catch(g){throw console.error(g),new So(Hr(g),0)}if(p.ok||await vh(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await vh(g)}}function Dt(i){var r;let n=null;Gy(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=Cy(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function wh(i){const r=Dt(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function jr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Hy(i){return{data:i,error:null}}function Ky(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=i,d=$n(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},g=Object.assign({},d);return{data:{properties:p,user:g},error:null}}function _h(i){return i}function Gy(i){return i.access_token&&i.refresh_token&&i.expires_in}const vo=["global","local","others"];let tu=class{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Gf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=vo[0]){if(vo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vo.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(X(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=$n(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Ky,redirectTo:n?.redirectTo})}catch(n){if(X(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:jr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,d,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:_h});if(v.error)throw v.error;const S=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);y[`${j}Page`]=P}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(X(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Tn(r);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:jr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Tn(r);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:jr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){Tn(r);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:jr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){Tn(r.userId);try{const{data:n,error:o}=await se(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Tn(r.userId),Tn(r.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,d,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:_h});if(v.error)throw v.error;const S=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);y[`${j}Page`]=P}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(X(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(X(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}};function xh(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const Kr={debug:!!(globalThis&&Kf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ru extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}let Jf=class extends ru{};class Jy extends ru{}async function Qf(i,r,n){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Jf(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Kr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const kh={};async function Qy(i,r,n){var o;const l=(o=kh[i])!==null&&o!==void 0?o:Promise.resolve(),u=Promise.race([l.catch(()=>null),r>=0?new Promise((d,p)=>{setTimeout(()=>{p(new Jy(`Acquring process lock with name "${i}" timed out`))},r)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await n());return kh[i]=u.catch(async d=>{if(d&&d.isAcquireTimeout)return await l,null;throw d}),await u}function Yy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yf(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Xy(i){return parseInt(i,16)}function Zy(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function e0(i){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:g,resources:y,scheme:v,uri:S,version:_}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const k=Yf(i.address),C=v?`${v}://${o}`:o,P=i.statement?`${i.statement}
`:"",j=`${C} wants you to sign in with your Ethereum account:
${k}

${P}`;let I=`URI: ${S}
Version: ${_}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(I+=`
Expiration Time: ${l.toISOString()}`),p&&(I+=`
Not Before: ${p.toISOString()}`),g&&(I+=`
Request ID: ${g}`),y){let U=`
Resources:`;for(const R of y){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);U+=`
- ${R}`}I+=U}return`${j}
${I}`}class Me extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class jo extends Me{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function t0({error:i,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Me({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(Xf(d)){if(u.rp.id!==d)return new Me({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function r0({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Me({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(Xf(o)){if(n.rpId!==o)return new Me({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class n0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const s0=new n0;function i0(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,l=$n(i,["challenge","user","excludeCredentials"]),u=Rn(r).buffer,d=Object.assign(Object.assign({},n),{id:Rn(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:d});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const y=o[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Rn(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function o0(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=$n(i,["challenge","allowCredentials"]),l=Rn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:Rn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function a0(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Yr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Yr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function l0(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Yr(new Uint8Array(l.authenticatorData)),clientDataJSON:Yr(new Uint8Array(l.clientDataJSON)),signature:Yr(new Uint8Array(l.signature)),userHandle:l.userHandle?Yr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Xf(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Sh(){var i,r;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function u0(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new jo("Browser returned unexpected credential type",r)}:{data:null,error:new jo("Empty credential response",r)}}catch(r){return{data:null,error:t0({error:r,options:i})}}}async function c0(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new jo("Browser returned unexpected credential type",r)}:{data:null,error:new jo("Empty credential response",r)}}catch(r){return{data:null,error:r0({error:r,options:i})}}}const d0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Co(...i){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of i)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))o[u]=d;else if(n(d))o[u]=d;else if(r(d)){const p=o[u];r(p)?o[u]=Co(p,d):o[u]=Co(d)}else o[u]=d}return o}function f0(i,r){return Co(d0,i,r||{})}function p0(i,r){return Co(h0,i,r||{})}class g0{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:p};const g=l??s0.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${o}`),y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=f0(d.webauthn.credential_options.publicKey,u?.create),{data:v,error:S}=await u0({publicKey:y,signal:g});return v?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:S}}case"request":{const y=p0(d.webauthn.credential_options.publicKey,u?.request),{data:v,error:S}=await c0(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:g}));return v?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:S}}}}catch(d){return X(d)?{data:null,error:d}:{data:null,error:new Er("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ln("rpId is required for WebAuthn authentication")};try{if(!Sh())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!d)return{data:null,error:p};const{webauthn:g}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:o,credential_response:g.credential_response}})}catch(d){return X(d)?{data:null,error:d}:{data:null,error:new Er("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ln("rpId is required for WebAuthn registration")};try{if(!Sh())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(v=>{var S;return(S=v.data)===null||S===void 0?void 0:S.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(d){return X(d)?{data:null,error:d}:{data:null,error:new Er("Unexpected error in register",d)}}}}Yy();const m0={url:my,storageKey:yy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function bh(i,r,n){return await n()}const On={};let nu=class ql{get jwks(){var r,n;return(n=(r=On[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=On[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},m0),r);if(this.storageKey=u.storageKey,this.instanceID=(n=ql.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ql.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Qe()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new tu({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Gf(u.fetch),this.lock=u.lock||bh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&Qe()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=Qf:this.lock=bh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new g0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Kf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=xh(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(Qe()&&(n=Oy(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Qe()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),qf(u)){const g=(r=u.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return X(n)?this._returnResult({error:n}):this._returnResult({error:new Er("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Dt}),{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const g=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:v,password:S,options:_}=r;let k=null,C=null;this.flowType==="pkce"&&([k,C]=await Cn(this.storage,this.storageKey)),u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:S,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:k,code_challenge_method:C},xform:Dt})}else if("phone"in r){const{phone:v,password:S,options:_}=r;u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:S,data:(o=_?.data)!==null&&o!==void 0?o:{},channel:(l=_?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Dt})}else throw new $s("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:p}=r;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:wh})}else if("phone"in r){const{phone:u,password:d,options:p}=r;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:wh})}else throw new $s("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new qr;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,d,p,g,y,v,S,_;let k,C;if("message"in r)k=r.message,C=r.signature;else{const{chain:P,wallet:j,statement:I,options:U}=r;let R;if(Qe())if(typeof j=="object")R=j;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")R=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=j}const F=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href),V=await R.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Yf(V[0]);let Z=(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Z){const we=await R.request({method:"eth_chainId"});Z=Xy(we)}const oe={domain:F.host,address:J,statement:I,uri:F.href,version:"1",chainId:Z,nonce:(l=U?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=U?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=U?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=U?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.resources};k=e0(oe),C=await R.request({method:"personal_sign",params:[Zy(k),J]})}try{const{data:P,error:j}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:C},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Dt});if(j)throw j;if(!P||!P.session||!P.user){const I=new qr;return this._returnResult({data:{user:null,session:null},error:I})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:j})}catch(P){if(X(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(r){var n,o,l,u,d,p,g,y,v,S,_,k;let C,P;if("message"in r)C=r.message,P=r.signature;else{const{chain:j,wallet:I,statement:U,options:R}=r;let F;if(Qe())if(typeof I=="object")F=I;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))F=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=I}const V=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const J=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),U?{statement:U}:null));let Z;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")Z=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)Z=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)C=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),P=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${V.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(l=(o=R?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=R?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((y=R?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((S=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||S===void 0)&&S.length?["Resources",...R.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const J=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=J}}try{const{data:j,error:I}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Yr(P)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Dt});if(I)throw I;if(!j||!j.session||!j.user){const U=new qr;return this._returnResult({data:{user:null,session:null},error:U})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:I})}catch(j){if(X(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{const{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Dt});if(await Je(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const p=new qr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:d}=r,p=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Dt}),{data:g,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const v=new qr;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,u,d;try{if("email"in r){const{email:p,options:g}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Cn(this.storage,this.storageKey));const{error:S}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in r){const{phone:p,options:g}=r,{data:y,error:v}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:v})}throw new $s("You must provide either an email or phone number.")}catch(p){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:p}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Dt});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,y=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,u,d;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Cn(this.storage,this.storageKey));const y=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:Hy});return!((u=y.data)===null||u===void 0)&&u.url&&Qe()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new gt;const{error:l}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:d}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:d,error:p}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new $s("You must provide either an email or phone number and a type")}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<El:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const d=await Vr(this.userStorage,this.storageKey+"-user");d?.user?r.user=d.user:r.user=Cl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=Fy(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:jr}):await this._useSession(async n=>{var o,l,u;const{data:d,error:p}=n;if(p)throw p;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:jr})})}catch(n){if(X(n))return Vf(n)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new gt;const d=l.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await Cn(this.storage,this.storageKey));const{data:y,error:v}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:d.access_token,xform:jr});if(v)throw v;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new gt;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:d}=jl(r.access_token);if(d.exp&&(o=d.exp,l=o<=n),l){const{data:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)throw g;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(X(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:d,error:p}=n;if(p)throw p;r=(o=d.session)!==null&&o!==void 0?o:void 0}if(!r?.refresh_token)throw new gt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(X(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Qe())throw new Ds("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ds(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ds("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Wl("No code detected.");const{data:U,error:R}=await this._exchangeCodeForSession(r.code);if(R)throw R;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:p,expires_at:g,token_type:y}=r;if(!u||!p||!d||!y)throw new Ds("No session defined in URL");const v=Math.round(Date.now()/1e3),S=parseInt(p);let _=v+S;g&&(_=parseInt(g));const k=_-v;k*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${S}s`);const C=_-S;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,v);const{data:P,error:j}=await this._getUser(u);if(j)throw j;const I={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:S,expires_at:_,refresh_token:d,token_type:y,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:r.type},error:null})}catch(o){if(X(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Vr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:p}=await this.admin.signOut(d,r);if(p&&!(Wf(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Ty(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Cn(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var d,p,g,y,v;const{data:S,error:_}=u;if(_)throw _;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Qe()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:r.provider,url:o?.url},error:null})}catch(o){if(X(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:p,token:g,access_token:y,nonce:v}=r,S=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:g,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Dt}),{data:_,error:k}=S;return k?this._returnResult({data:{user:null,session:null},error:k}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new qr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:k}))}catch(l){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)throw d;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await Ay(async l=>(l>0&&await Ny(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Dt})),(l,u)=>{const d=200*Math.pow(2,l);return u&&yo(u)&&Date.now()+d-o<Pn})}catch(o){if(this._debug(n,"error",o),X(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Qe()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Vr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Nn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d?.user)!==null&&r!==void 0?r:Cl()}else if(l&&!l.user&&!l.user){const d=await Vr(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await Je(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,l)):l.user=Cl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<El;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${El}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),yo(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(l.access_token);!p&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new No;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new gt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),X(u)){const d={data:null,error:u};return yo(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=yh(l);await Nn(this.storage,this.storageKey,u)}else{const l=yh(n);await Nn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Pn}ms, refresh threshold is ${zl} ticks`),l<=zl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof ru)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await Cn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(p.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await se(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await se(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&g.type==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?a0(r.webauthn.credential_response):l0(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:g}=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:i0(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:o0(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n?.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=jl(o.access_token);let d=null;u.aal&&(d=u.aal);let p=d;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const y=u.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new gt})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new gt});const d=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&Qe()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new gt});const d=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&Qe()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new gt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gt})})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(p=>p.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+_y>l)return o;const{data:u,error:d}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:k,error:C}=await this.getSession();if(C||!k.session)return this._returnResult({data:null,error:C});o=k.session.access_token}const{header:l,payload:u,signature:d,raw:{header:p,payload:g}}=jl(o);n?.allowExpired||My(u.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!y){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:u,header:l,signature:d},error:null}}const v=By(l.alg),S=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,S,d,jy(`${p}.${g}`)))throw new bo("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}};nu.nextInstanceID={};const y0=tu,v0=nu,w0=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:y0,AuthApiError:Ff,AuthClient:v0,AuthError:Ln,AuthImplicitGrantRedirectError:Ds,AuthInvalidCredentialsError:$s,AuthInvalidJwtError:bo,AuthInvalidTokenResponseError:qr,AuthPKCEGrantCodeExchangeError:Wl,AuthRetryableFetchError:So,AuthSessionMissingError:gt,AuthUnknownError:Er,AuthWeakPasswordError:Vl,CustomAuthError:sr,GoTrueAdminApi:tu,GoTrueClient:nu,NavigatorLockAcquireTimeoutError:Jf,SIGN_OUT_SCOPES:vo,isAuthApiError:Wf,isAuthError:X,isAuthImplicitGrantRedirectError:qf,isAuthRetryableFetchError:yo,isAuthSessionMissingError:Vf,isAuthWeakPasswordError:xy,lockInternals:Kr,navigatorLock:Qf,processLock:Qy},Symbol.toStringTag,{value:"Module"})),Zf=zs(w0);var Eh;function _0(){if(Eh)return Is;Eh=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.SupabaseAuthClient=void 0;const i=Zf;let r=class extends i.AuthClient{constructor(o){super(o)}};return Is.SupabaseAuthClient=r,Is}var jh;function Ch(){if(jh)return io;jh=1,Object.defineProperty(io,"__esModule",{value:!0});const i=hf,r=vf(),n=jf,o=dy,l=fy(),u=py(),d=gy(),p=_0();class g{constructor(v,S,_){var k,C,P;this.supabaseUrl=v,this.supabaseKey=S;const j=(0,d.validateSupabaseUrl)(v);if(!S)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const I=`sb-${j.hostname.split(".")[0]}-auth-token`,U={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:I}),global:l.DEFAULT_GLOBAL_OPTIONS},R=(0,d.applySettingDefaults)(_??{},U);this.storageKey=(k=R.auth.storageKey)!==null&&k!==void 0?k:"",this.headers=(C=R.global.headers)!==null&&C!==void 0?C:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(F,V)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(V)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((P=R.auth)!==null&&P!==void 0?P:{},this.headers,R.global.fetch),this.fetch=(0,u.fetchWithAuth)(S,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(F=>this.realtime.setAuth(F)).catch(F=>console.warn("Failed to set initial Realtime auth token:",F)),this.rest=new r.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,_?.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,S={},_={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,S,_)}channel(v,S={config:{}}){return this.realtime.channel(v,S)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,S;if(this.accessToken)return await this.accessToken();const{data:_}=await this.auth.getSession();return(S=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&S!==void 0?S:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:S,detectSessionInUrl:_,storage:k,userStorage:C,storageKey:P,flowType:j,lock:I,debug:U,throwOnError:R},F,V){const J={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},J),F),storageKey:P,autoRefreshToken:v,persistSession:S,detectSessionInUrl:_,storage:k,userStorage:C,flowType:j,lock:I,debug:U,throwOnError:R,fetch:V,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Z=>Z.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((S,_)=>{this._handleTokenChanged(S,"CLIENT",_?.access_token)})}_handleTokenChanged(v,S,_){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==_?(this.changedAccessToken=_,this.realtime.setAuth(_)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),S=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return io.default=g,io}var Th;function x0(){return Th||(Th=1,(function(i){var r=er&&er.__createBinding||(Object.create?(function(v,S,_,k){k===void 0&&(k=_);var C=Object.getOwnPropertyDescriptor(S,_);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[_]}}),Object.defineProperty(v,k,C)}):(function(v,S,_,k){k===void 0&&(k=_),v[k]=S[_]})),n=er&&er.__exportStar||function(v,S){for(var _ in v)_!=="default"&&!Object.prototype.hasOwnProperty.call(S,_)&&r(S,v,_)},o=er&&er.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const l=o(Ch());n(Zf,i);var u=vf();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var d=hf;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),n(jf,i);var p=Ch();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return o(p).default}});const g=(v,S,_)=>new l.default(v,S,_);i.createClient=g;function y(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const S=v.match(/^v(\d+)\./);return S?parseInt(S[1],10)<=18:!1}y()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(er)),er}var ep=x0();const tp=Uh(ep),k0=Dh({__proto__:null,default:tp},[ep]),{PostgrestError:bw,FunctionsHttpError:Ew,FunctionsFetchError:jw,FunctionsRelayError:Cw,FunctionsError:Tw,FunctionRegion:Ow,SupabaseClient:Pw,createClient:S0,GoTrueAdminApi:Nw,GoTrueClient:Aw,AuthAdminApi:Rw,AuthClient:Iw,navigatorLock:Lw,NavigatorLockAcquireTimeoutError:$w,lockInternals:Dw,processLock:Uw,SIGN_OUT_SCOPES:Mw,AuthError:Bw,AuthApiError:zw,AuthUnknownError:Fw,CustomAuthError:Ww,AuthSessionMissingError:Vw,AuthInvalidTokenResponseError:qw,AuthInvalidCredentialsError:Hw,AuthImplicitGrantRedirectError:Kw,AuthPKCEGrantCodeExchangeError:Gw,AuthRetryableFetchError:Jw,AuthWeakPasswordError:Qw,AuthInvalidJwtError:Yw,isAuthError:Xw,isAuthApiError:Zw,isAuthSessionMissingError:e1,isAuthImplicitGrantRedirectError:t1,isAuthRetryableFetchError:r1,isAuthWeakPasswordError:n1,RealtimePresence:s1,RealtimeChannel:i1,RealtimeClient:o1,REALTIME_LISTEN_TYPES:a1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:l1,REALTIME_PRESENCE_LISTEN_EVENTS:u1,REALTIME_SUBSCRIBE_STATES:c1,REALTIME_CHANNEL_STATES:d1}=tp||k0;let Tl=null;function b0(){return Tl||(Tl=S0(`https://${Cr}.supabase.co`,Us)),Tl}const nr=b0(),su=`https://${Cr}.supabase.co/functions/v1/make-server-baa51d6b`;async function E0(i){if(i)return`Bearer ${i}`;try{const{data:{session:r}}=await nr.auth.getSession();return r?.access_token?(console.log("[getAuthHeader] Using session token"),`Bearer ${r.access_token}`):(console.log("[getAuthHeader] No session, using anon key"),`Bearer ${Us}`)}catch(r){return console.error("[getAuthHeader] Error, using anon key fallback:",r),`Bearer ${Us}`}}async function Qr(i,r={}){try{console.log(`[apiCall] Starting API call to: ${i}`),console.log("[apiCall] Getting auth header...");const n=await E0(r.accessTokenOverride);console.log("[apiCall] Auth header obtained:",n.substring(0,20)+"...");const o=`${su}${i}`;console.log(`[apiCall] Full URL: ${o}`);const l=new AbortController,u=setTimeout(()=>l.abort(),3e4);console.log("[apiCall] Making fetch request...");const d=await fetch(o,{...r,headers:{"Content-Type":"application/json",Authorization:n,...r.headers},signal:l.signal});clearTimeout(u),console.log(`[apiCall] Response status: ${d.status}`);const p=await d.json();if(console.log("[apiCall] Response data:",p),!d.ok)throw console.error(`[apiCall] API Error (${i}):`,p),p.error?.includes("JWT")||p.error?.includes("does not exist")||p.error?.includes("Unauthorized")||d.status===401?(console.warn(" Invalid session detected - clearing auth and reloading..."),await nr.auth.signOut(),localStorage.clear(),window.location.href="/",new Error("Sesin invlida. Por favor inicia sesin nuevamente.")):new Error(p.error||"API request failed");return p}catch(n){throw console.error("[apiCall] Exception caught:",n),n.name==="AbortError"?(console.error("[apiCall] Request timeout - server did not respond in 30 seconds"),new Error("Request timeout. Please check your internet connection or try again later.")):(console.error("[apiCall] API call failed:",n),n)}}const rr={async signup(i,r,n,o){console.log("API: Sending signup request to backend...");try{const l=`${su}/auth/signup`;console.log("[signup] Direct call to:",l);const u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Us}`},body:JSON.stringify({email:i,password:r,name:n,specialty:o})});console.log("[signup] Response status:",u.status);const d=await u.json();if(console.log("[signup] Response data:",d),!u.ok)throw new Error(d.error||"Signup failed");return console.log("API: Signup successful:",d),d}catch(l){throw console.error("API: Signup failed:",l),l}},async signIn(i,r){console.log("[signIn] Starting sign in for:",i);const{data:n,error:o}=await nr.auth.signInWithPassword({email:i,password:r});if(o)throw console.error("[signIn] Supabase auth error:",o),o.message.includes("Invalid login credentials")?new Error("Email o contrasea incorrectos"):o.message.includes("Email not confirmed")?new Error("Email no confirmado. Por favor contacta al soporte."):new Error(o.message);if(!n.session)throw console.error("[signIn] No session returned after sign in"),new Error("No se pudo crear la sesin. Por favor intenta de nuevo.");return console.log("[signIn] Sign in successful:",{hasSession:!!n.session,hasUser:!!n.user,accessToken:n.session?.access_token?"exists":"missing",userEmail:n.user?.email}),n},async signInWithOAuth(i){const{data:r,error:n}=await nr.auth.signInWithOAuth({provider:i,options:{redirectTo:window.location.origin}});if(n)throw console.error(`OAuth ${i} sign in error:`,n),new Error(n.message);return r},async signOut(){const{error:i}=await nr.auth.signOut();if(i)throw console.error("Sign out error:",i),new Error(i.message)},async getSession(){const{data:i,error:r}=await nr.auth.getSession();return r?(console.error("Get session error:",r),null):i.session},async getProfile(i){return Qr("/auth/profile",{method:"GET",accessTokenOverride:i})},async updateProfile(i){return Qr("/auth/profile",{method:"PUT",body:JSON.stringify(i)})}},h1={async createChat(i,r){return Qr("/chats",{method:"POST",body:JSON.stringify({specialty:i,title:r})})},async getChatHistory(){return Qr("/chats",{method:"GET"})},async getChat(i){return Qr(`/chat/${i}`,{method:"GET"})},async sendMessage(i,r,n,o=!0){const{data:{session:l}}=await nr.auth.getSession(),u=l?.access_token||Us;console.log(" Sending message to chat:",{chatId:i,hasAttachments:!!n,attachmentsCount:n?.length,useRAG:o});const d=(n||[]).map(y=>{const v={type:y.type,name:y.name,url:y.url,size:y.size,data_url:y.base64,extractedText:y.extractedText};return y.type==="image"&&y.base64&&console.log(` Preparing image for backend: ${y.name} (${Math.round(y.base64.length/1024)}KB)`),v}),p=await fetch(`${su}/chat/${i}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({message:r,attachments:d,useRAG:o})});if(!p.ok){const y=await p.json();throw console.error(" Error sending message:",y),new Error(y.message||y.error||"Failed to send message")}const g=await p.json();return console.log(" Message sent successfully"),g.rag?.enabled&&(console.log(` RAG: Found ${g.rag.chunks_found} relevant chunks from knowledge base`),console.log(" RAG Sources:",g.rag.chunks)),g.modelUsed&&(console.log(` AI Model Used: ${g.modelUsed}`),console.log(" Model metadata:",g.aiMessage?.metadata)),g},async deleteChat(i){return Qr(`/chat/${i}`,{method:"DELETE"})},async updateChatTitle(i,r){return Qr(`/chat/${i}/title`,{method:"PATCH",body:JSON.stringify({title:r})})}};function rp(){const[i,r]=z.useState(null),[n,o]=z.useState(!0),[l,u]=z.useState(null);z.useEffect(()=>{d();const{data:{subscription:_}}=nr.auth.onAuthStateChange(async(k,C)=>{if(console.log("Auth state changed:",k,"Session exists:",!!C),u(C),k==="SIGNED_OUT")r(null),o(!1);else if(k==="TOKEN_REFRESHED"&&C?.user)try{const{profile:P}=await rr.getProfile();r(P),console.log("Profile refreshed after token refresh:",P)}catch(P){console.error("Error refreshing profile after token refresh:",P)}});return()=>{_.unsubscribe()}},[]);async function d(){try{const _=await rr.getSession();if(u(_),_?.user)try{const{profile:k}=await rr.getProfile();r(k)}catch(k){console.error("Error fetching profile:",k),(k.message?.includes("JWT")||k.message?.includes("does not exist"))&&(console.warn(" Invalid JWT detected in checkUser - clearing session..."),await nr.auth.signOut(),localStorage.clear(),r(null),u(null))}}catch(_){console.error("Error checking user session:",_),r(null)}finally{o(!1)}}async function p(_,k,C,P){try{console.log("Step 1: Calling backend signup API...");const j=await rr.signup(_,k,C,P);return console.log("Step 2: Backend signup completed:",j),console.log("Step 3: Attempting automatic sign in..."),await g(_,k),console.log("Step 4: Sign up process completed successfully"),j}catch(j){throw console.error("Sign up error:",j),j}}async function g(_,k){try{console.log("[useAuth.signIn] Step 1: Calling Supabase signIn...");const C=await rr.signIn(_,k);console.log("[useAuth.signIn] Step 2: SignIn successful, session:",C.session?"exists":"null"),console.log("[useAuth.signIn] Step 3: Waiting for session to be established..."),await new Promise(I=>setTimeout(I,500)),console.log("[useAuth.signIn] Step 4: Fetching user profile...");let P=3,j=null;for(;P>0&&!j;)try{j=(await rr.getProfile(C.session?.access_token)).profile,console.log("[useAuth.signIn] Profile fetched successfully:",j),r(j),u(C.session),j.email&&(localStorage.setItem("user_email",j.email),console.log("[useAuth.signIn] User email saved to localStorage:",j.email))}catch(I){if(console.log(`[useAuth.signIn] Profile fetch attempt failed (${4-P}/3):`,I.message),P--,P>0)console.log(`[useAuth.signIn] Waiting 1s before retry ${4-P}...`),await new Promise(U=>setTimeout(U,1e3));else throw console.error("[useAuth.signIn] Failed to fetch profile after 3 attempts:",I),new Error("No se pudo cargar el perfil de usuario. Por favor intenta nuevamente.")}return console.log("[useAuth.signIn] Sign in process completed successfully"),C}catch(C){throw console.error("[useAuth.signIn] Sign in error:",C),C}}async function y(_){try{return await rr.signInWithOAuth(_)}catch(k){throw console.error("OAuth sign in error:",k),k}}async function v(){try{await rr.signOut(),r(null),u(null)}catch(_){throw console.error("Sign out error:",_),_}}async function S(_){try{const{profile:k}=await rr.updateProfile(_);return r(k),k}catch(k){throw console.error("Update profile error:",k),k}}return{user:i,session:l,loading:n,signUp:p,signIn:g,signInWithOAuth:y,signOut:v,updateProfile:S}}const np=(i,r=[])=>{const n=["diagnosis-step1"];return r.includes("colorectal")&&n.push("diagnosis-step2"),r.includes("urinary")&&n.push("diagnosis-step2-urinary"),r.includes("prolapse")&&(i==="female"||i==="trans")&&n.push("diagnosis-step2-prolapse"),r.includes("sexual")&&n.push("diagnosis-step2-sexual"),r.includes("male")&&(i==="male"||i==="trans")&&n.push("diagnosis-step2-male"),r.includes("trans")&&i==="trans"&&n.push("diagnosis-step2-trans"),n.push("diagnosis-analysis"),n.push("diagnosis-step3"),n},Oh=(i,r,n=[])=>{const o=np(r,n),l=o.indexOf(i);return l>=0&&l<o.length-1?o[l+1]:null},j0=(i,r,n=[])=>{const o=np(r,n),l=o.indexOf(i);return l>0?o[l-1]:null};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T0=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,o)=>o?o.toUpperCase():n.toLowerCase()),Ph=i=>{const r=T0(i);return r.charAt(0).toUpperCase()+r.slice(1)},sp=(...i)=>i.filter((r,n,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=z.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:d,...p},g)=>z.createElement("svg",{ref:g,...O0,width:r,height:r,stroke:i,strokeWidth:o?Number(n)*24/Number(r):n,className:sp("lucide",l),...p},[...d.map(([y,v])=>z.createElement(y,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(i,r)=>{const n=z.forwardRef(({className:o,...l},u)=>z.createElement(P0,{ref:u,iconNode:r,className:sp(`lucide-${C0(Ph(i))}`,`lucide-${i}`,o),...l}));return n.displayName=Ph(i),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nh=Ne("arrow-left",N0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],R0=Ne("check",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L0=Ne("chevron-left",I0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],D0=Ne("circle-alert",$0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],M0=Ne("circle-check-big",U0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],z0=Ne("circle-user",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W0=Ne("clipboard-list",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],q0=Ne("clock",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ah=Ne("database",H0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],G0=Ne("eye-off",K0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q0=Ne("eye",J0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hl=Ne("file-text",Y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Z0=Ne("heart",X0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tv=Ne("info",ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nv=Ne("lock",rv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],iv=Ne("mail",sv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],av=Ne("message-circle",ov);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rh=Ne("package",lv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cv=Ne("plus",uv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hv=Ne("shield",dv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Ih=Ne("upload",fv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gv=Ne("user",pv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ip=Ne("x",mv);function yv({isOpen:i,onClose:r,onAccept:n}){return i?f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"relative p-6 pb-4 flex-shrink-0",children:[f.jsx("button",{onClick:r,className:"absolute right-4 top-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors flex items-center justify-center",children:f.jsx(ip,{className:"w-4 h-4 text-gray-600"})}),f.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl mx-auto mb-4 flex items-center justify-center",children:f.jsx(Hl,{className:"w-8 h-8 text-blue-600"})}),f.jsx("h2",{className:"text-center text-gray-900 mb-2",children:"My actualizar sus Condiciones y su Poltica de privacidad."})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:[f.jsxs("p",{className:"text-sm text-center text-gray-600 mb-4",children:[f.jsx("span",{className:"text-blue-600 cursor-pointer hover:text-blue-700",children:"Las actualizaciones clave"})," incluyen ms informacin sobre lo siguiente:"]}),f.jsxs("ul",{className:"space-y-3 text-sm text-gray-700 mb-4",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-gray-400 flex-shrink-0",children:""}),f.jsx("span",{children:"El servicio de My y cmo procesamos tus datos mdicos y de salud."})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-gray-400 flex-shrink-0",children:""}),f.jsx("span",{children:"Cmo utilizamos modelos de inteligencia artificial para proporcionar diagnsticos y recomendaciones mdicas personalizadas."})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-gray-400 flex-shrink-0",children:""}),f.jsx("span",{children:"Cmo protegemos la confidencialidad de tu informacin de salud y cumplimos con regulaciones mdicas."})]})]}),f.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:['Al seleccionar "Aceptar", aceptas las nuevas'," ",f.jsx("span",{className:"text-blue-600 cursor-pointer hover:text-blue-700",children:"Condiciones"}),", que entrarn en vigor el que es ms tarde de hace 30 das a partir de cuando las aceptas. Tambin puedes seguir usando My. Despus de este perodo, debers aceptar las nuevas Condiciones para obtener informacin sobre cmo"," ",f.jsx("span",{className:"text-blue-600 cursor-pointer hover:text-blue-700",children:"descargar tu informacin"}),", visita el"," ",f.jsx("span",{className:"text-blue-600 cursor-pointer hover:text-blue-700",children:"Centro de ayuda"}),"."]})]}),f.jsx("div",{className:"p-6 pt-4 flex-shrink-0",children:f.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3.5 rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg",children:"Aceptar"})})]})}):null}function iu({children:i,className:r=""}){return f.jsx("div",{className:`bg-white rounded-3xl shadow-lg overflow-hidden flex flex-col w-full h-full ${r}`,children:i})}function op({gradient:i,children:r,className:n="",sticky:o=!0}){const l=o?"sticky top-0 z-10":"";return f.jsx("div",{className:`bg-gradient-to-br ${i} ${l} flex-shrink-0 ${n}`,children:r})}const vv=z.memo(function({children:r,onClick:n,disabled:o=!1,fullWidth:l=!1,size:u="md",gradient:d="from-blue-500 to-blue-600",className:p="",...g}){const y={sm:"px-3 py-1.5 text-sm",md:"px-4 py-3 text-sm",lg:"px-6 py-4 text-base"};return f.jsx("button",{className:`bg-gradient-to-r ${d} text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center ${l?"w-full":""} ${y[u]} ${p}`,onClick:n,disabled:o,...g,children:r})});function wv({onLogin:i}){const[r,n]=z.useState(!0),[o,l]=z.useState(""),[u,d]=z.useState(""),[p,g]=z.useState(""),[y,v]=z.useState(!1),[S,_]=z.useState(!1),[k,C]=z.useState(!1),[P,j]=z.useState(""),[I,U]=z.useState(!1),{signIn:R,signUp:F,signInWithOAuth:V}=rp(),J="from-blue-500 to-blue-600",Z=async fe=>{fe.preventDefault(),j(""),U(!0);try{if(r)console.log("[LoginScreen] Starting sign in..."),await R(o,u),console.log("[LoginScreen] Sign in completed successfully"),i();else{if(!S){j("Debes aceptar los trminos y condiciones"),U(!1);return}console.log("[LoginScreen] Starting sign up..."),await F(o,u,p),console.log("[LoginScreen] Sign up completed successfully"),i()}}catch(Re){console.error("[LoginScreen] Authentication error:",Re),j(Re.message||"Error al autenticar. Por favor intenta de nuevo.")}finally{U(!1)}},oe=async()=>{j(""),U(!0);try{await V("google")}catch(fe){console.error("Google OAuth error:",fe),j(fe.message||"Error al autenticar con Google. Asegrate de haber configurado OAuth en Supabase.")}finally{U(!1)}},we=()=>{_(!0),C(!1)};return f.jsxs(iu,{children:[f.jsxs(op,{gradient:J,className:"p-6 text-white text-center flex-shrink-0",children:[f.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg",children:f.jsx("div",{className:`bg-gradient-to-br ${J} w-[72px] h-[72px] rounded-xl flex items-center justify-center`,children:f.jsx(Z0,{className:"w-10 h-10 text-white animate-[heartbeat_1.5s_ease-in-out_infinite]",fill:"white"})})}),f.jsx("h1",{className:"text-3xl mb-2",children:"My"}),f.jsx("p",{className:"text-base text-blue-100",children:"Asistente"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex gap-2 mb-6 bg-gray-100 p-1.5 rounded-xl",children:[f.jsx("button",{onClick:()=>n(!0),className:`flex-1 py-3 rounded-lg transition-all text-base font-medium ${r?"bg-white shadow-md":"text-gray-600"}`,children:"Iniciar Sesin"}),f.jsx("button",{onClick:()=>n(!1),className:`flex-1 py-3 rounded-lg transition-all text-base font-medium ${r?"text-gray-600":"bg-white shadow-md"}`,children:"Registro"})]}),P&&f.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:P}),f.jsxs("form",{onSubmit:Z,className:"space-y-5",children:[!r&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 mb-2 text-base font-medium",children:"Nombre completo"}),f.jsxs("div",{className:"relative",children:[f.jsx(gv,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),f.jsx("input",{type:"text",value:p,onChange:fe=>g(fe.target.value),className:"w-full pl-11 pr-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"Ingresa tu nombre",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 mb-2 text-base font-medium",children:"Correo electrnico"}),f.jsxs("div",{className:"relative",children:[f.jsx(iv,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),f.jsx("input",{type:"email",value:o,onChange:fe=>l(fe.target.value),className:"w-full pl-11 pr-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"correo@ejemplo.com",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-700 mb-2 text-base font-medium",children:"Contrasea"}),f.jsxs("div",{className:"relative",children:[f.jsx(nv,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),f.jsx("input",{type:y?"text":"password",value:u,onChange:fe=>d(fe.target.value),className:"w-full pl-11 pr-12 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-base",placeholder:"",required:!0}),f.jsx("button",{type:"button",className:"absolute right-3 top-3.5 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>v(!y),children:y?f.jsx(G0,{className:"w-5 h-5"}):f.jsx(Q0,{className:"w-5 h-5"})})]})]}),r&&f.jsx("div",{className:"text-right",children:f.jsx("button",{type:"button",className:"text-blue-600 text-sm hover:text-blue-700 transition-colors font-medium",children:"Olvidaste tu contrasea?"})}),f.jsx(vv,{type:"submit",gradient:J,fullWidth:!0,className:"py-3.5 mt-6 text-base font-medium",disabled:I,children:I?"Procesando...":r?"Iniciar Sesin":"Crear Cuenta"})]}),f.jsxs("div",{className:"flex items-center gap-4 my-6",children:[f.jsx("div",{className:"flex-1 h-px bg-gray-200"}),f.jsx("span",{className:"text-gray-400 text-sm",children:"o"}),f.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),f.jsxs("button",{type:"button",onClick:oe,disabled:I,className:"w-full bg-white border-2 border-gray-200 text-gray-700 py-3.5 rounded-xl hover:bg-gray-50 transition-colors flex items-center justify-center gap-2.5 group text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:"Continuar con Google"})]}),!r&&f.jsxs("div",{className:"mt-6 mb-4 flex items-start gap-3",children:[f.jsx("input",{type:"checkbox",id:"terms",checked:S,onChange:fe=>_(fe.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer flex-shrink-0"}),f.jsxs("label",{htmlFor:"terms",className:"text-xs leading-relaxed text-gray-600 cursor-pointer select-none",children:["He ledo y acepto los"," ",f.jsx("span",{onClick:()=>C(!0),className:"text-blue-600 hover:text-blue-700 underline cursor-pointer font-medium",children:"Trminos y Condiciones"})]})]})]})}),f.jsx(yv,{isOpen:k,onClose:()=>C(!1),onAccept:we})]})}const Lh=z.memo(function({name:r,subtitle:n,description:o,gradient:l,icon:u,available:d,badge:p,onClick:g}){return d?f.jsx("button",{onClick:g,className:"w-full bg-white border border-gray-200 rounded-2xl p-5 hover:shadow-lg transition-all duration-200 text-left group",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${l} rounded-2xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform shadow-md`,children:f.jsx(u,{className:"w-7 h-7 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg mb-1",children:r}),f.jsx("p",{className:"text-sm text-gray-600",children:n}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o})]})]})}):f.jsx("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-2xl p-5 opacity-50 cursor-not-allowed",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${l} rounded-2xl flex items-center justify-center flex-shrink-0`,children:f.jsx(u,{className:"w-7 h-7 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:"text-lg text-gray-600",children:r}),p&&f.jsx("span",{className:"px-2 py-0.5 bg-gray-200 text-xs rounded-full text-gray-600",children:p})]}),f.jsx("p",{className:"text-sm text-gray-500",children:n}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o})]})]})})});function ap({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 4C10.5 4 9 5 8 6.5C7 8 6.5 10 6 12C5.5 14 5 16 4.5 17.5C4 19 4 20 5 20C6 20 6.5 19 7 18C7.5 17 8 16 8.5 15.5C9 15 9.5 15 10 15.5C10.5 16 11 17 11.5 18.5C11.75 19.25 11.75 20 12 20C12.25 20 12.25 19.25 12.5 18.5C13 17 13.5 16 14 15.5C14.5 15 15 15 15.5 15.5C16 16 16.5 17 17 18C17.5 19 18 20 19 20C20 20 20 19 19.5 17.5C19 16 18.5 14 18 12C17.5 10 17 8 16 6.5C15 5 13.5 4 12 4Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),f.jsx("ellipse",{cx:"12",cy:"10",rx:"3.5",ry:"4",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),f.jsx("circle",{cx:"8.5",cy:"15.5",r:"1.5",stroke:"currentColor",strokeWidth:"1.5",fill:"currentColor",opacity:"0.3"}),f.jsx("circle",{cx:"15.5",cy:"15.5",r:"1.5",stroke:"currentColor",strokeWidth:"1.5",fill:"currentColor",opacity:"0.3"})]})}function Kl({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M10 3C10 3 10.5 3.5 11 4.5C11.5 5.5 12 6.5 12.5 7",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M12.5 7C13.5 7.5 14.5 8 15.5 9C17 10.5 18 12.5 18 14.5C18 16.5 17.5 18.5 16.5 19.5C15.5 20.5 14 21 12.5 21C11 21 9.5 20.5 8.5 19.5C7.5 18.5 7 17 7 15.5C7 14 7.5 12.5 8.5 11.5",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M8.5 11.5C8 10.5 7.5 9.5 7 8.5C6.5 7.5 6 6.5 6 5.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M7 15.5C6.5 16 6 16.5 5.5 17C5 17.5 4.5 18 4 18.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",fill:"none"})]})}function _v({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 8C9.5 8 7.5 9.5 7 12C6.5 14.5 7 17 8.5 18.5C9.5 19.5 10.5 20 12 20C13.5 20 14.5 19.5 15.5 18.5C17 17 17.5 14.5 17 12C16.5 9.5 14.5 8 12 8Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),f.jsx("path",{d:"M7 12C6 11.5 5 11 4.5 10C4 9 4 8 4.5 7.5C5 7 5.5 7 6 7.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M17 12C18 11.5 19 11 19.5 10C20 9 20 8 19.5 7.5C19 7 18.5 7 18 7.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",fill:"none"}),f.jsx("ellipse",{cx:"4.5",cy:"7.5",rx:"1.5",ry:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),f.jsx("ellipse",{cx:"19.5",cy:"7.5",rx:"1.5",ry:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),f.jsx("path",{d:"M11 20C11 20.5 11 21 11.5 21.5C11.75 21.75 12.25 21.75 12.5 21.5C13 21 13 20.5 13 20",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",fill:"none"})]})}function xv({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 21C12 21 4 15 4 9C4 6.5 5.5 5 7.5 5C9 5 10.5 6 11.5 7.5C11.75 8 12 8 12 8C12 8 12.25 8 12.5 7.5C13.5 6 15 5 16.5 5C18.5 5 20 6.5 20 9C20 15 12 21 12 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),f.jsx("path",{d:"M12 8L12 17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M8 10C8 10 9 9 10 9",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.6"}),f.jsx("path",{d:"M16 10C16 10 15 9 14 9",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.6"}),f.jsx("path",{d:"M7 13L8 13L8.5 11.5L9.5 14.5L10 13L11 13",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"}),f.jsx("path",{d:"M13 13L14 13L14.5 11.5L15.5 14.5L16 13L17 13",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.4"})]})}function kv({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",strokeWidth:"2",fill:"none"}),f.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.6"}),f.jsx("path",{d:"M10.5 11L11 12L10.5 13",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M13.5 11L13 12L13.5 13",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("circle",{cx:"6",cy:"6",r:"2.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.7"}),f.jsx("circle",{cx:"18",cy:"6",r:"2.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.7"}),f.jsx("circle",{cx:"6",cy:"18",r:"2.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.7"}),f.jsx("circle",{cx:"18",cy:"18",r:"2.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.7"}),f.jsx("path",{d:"M8 8L10 10",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"}),f.jsx("path",{d:"M16 8L14 10",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"}),f.jsx("path",{d:"M8 16L10 14",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"}),f.jsx("path",{d:"M16 16L14 14",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"})]})}function Sv({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M7 8C6 8 5 9 5 10.5C5 11.5 5.5 12.5 5.5 13.5C5.5 14.5 5 15.5 5.5 16.5C6 17.5 7 18 8 18C8.5 18 9 17.5 9.5 17C10 16.5 10.5 16 11 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M17 8C18 8 19 9 19 10.5C19 11.5 18.5 12.5 18.5 13.5C18.5 14.5 19 15.5 18.5 16.5C18 17.5 17 18 16 18C15.5 18 15 17.5 14.5 17C14 16.5 13.5 16 13 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M7 8C7.5 7 8.5 6 9.5 5.5C10.5 5 11.5 5 12 5C12.5 5 13.5 5 14.5 5.5C15.5 6 16.5 7 17 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M11 16C11.5 16.5 11.75 17 12 17C12.25 17 12.5 16.5 13 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M7.5 10C8 10.5 8.5 11 9 11.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M7 13C7.5 13.5 8 14 8.5 14.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M16.5 10C16 10.5 15.5 11 15 11.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M17 13C16.5 13.5 16 14 15.5 14.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M12 7L12 13",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"})]})}function bv({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 3L12 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),f.jsx("path",{d:"M12 7L9 9",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"}),f.jsx("path",{d:"M12 7L15 9",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"}),f.jsx("path",{d:"M9 9C7.5 10 6 11.5 5.5 13.5C5 15.5 5 17.5 5.5 19C6 20.5 7 21.5 8.5 21.5C9.5 21.5 10 20.5 10.5 19C11 17.5 11 15.5 11 13.5C11 11.5 10 10 9 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),f.jsx("path",{d:"M15 9C16.5 10 18 11.5 18.5 13.5C19 15.5 19 17.5 18.5 19C18 20.5 17 21.5 15.5 21.5C14.5 21.5 14 20.5 13.5 19C13 17.5 13 15.5 13 13.5C13 11.5 14 10 15 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),f.jsx("path",{d:"M9 9L7.5 11",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M9 9L8 13",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M15 9L16.5 11",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M15 9L16 13",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"})]})}function Ev({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"12",cy:"8",r:"4.5",stroke:"currentColor",strokeWidth:"2",fill:"none"}),f.jsx("circle",{cx:"10.5",cy:"7.5",r:"0.8",fill:"currentColor"}),f.jsx("circle",{cx:"13.5",cy:"7.5",r:"0.8",fill:"currentColor"}),f.jsx("path",{d:"M10 9C10.5 9.5 11.2 9.8 12 9.8C12.8 9.8 13.5 9.5 14 9",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M8.5 12C8 12.5 7.5 13.5 7.5 15C7.5 16.5 8 18 8.5 19C9 20 10 21 11 21.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M15.5 12C16 12.5 16.5 13.5 16.5 15C16.5 16.5 16 18 15.5 19C15 20 14 21 13 21.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),f.jsx("path",{d:"M8 13.5L5.5 15",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"}),f.jsx("path",{d:"M16 13.5L18.5 15",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"}),f.jsx("circle",{cx:"5",cy:"15.5",r:"1",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),f.jsx("circle",{cx:"19",cy:"15.5",r:"1",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),f.jsx("path",{d:"M11.5 3.5C11.5 3.5 11.8 3.2 12 3C12.2 3.2 12.5 3.5 12.5 3.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}function jv({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("rect",{x:"4",y:"3",width:"16",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),f.jsx("circle",{cx:"12",cy:"8",r:"2.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",opacity:"0.8"}),f.jsx("path",{d:"M12 10.5L12 17",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",opacity:"0.8"}),f.jsx("circle",{cx:"12",cy:"11.5",r:"0.5",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"12",cy:"13",r:"0.5",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"12",cy:"14.5",r:"0.5",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"12",cy:"16",r:"0.5",fill:"currentColor",opacity:"0.6"}),f.jsx("path",{d:"M12 11.5C11 11.5 10 12 9.5 12.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M12 13C11 13 10 13.5 9.5 14",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M12 14.5C11 14.5 10 15 9.5 15.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M12 11.5C13 11.5 14 12 14.5 12.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M12 13C13 13 14 13.5 14.5 14",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M12 14.5C13 14.5 14 15 14.5 15.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M10 17C10 18 10.5 18.5 11 18.5C11.5 18.5 11.75 18.25 12 18C12.25 18.25 12.5 18.5 13 18.5C13.5 18.5 14 18 14 17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.7"})]})}function Cv({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"7",cy:"7",r:"3.5",stroke:"currentColor",strokeWidth:"2",fill:"none"}),f.jsx("circle",{cx:"17",cy:"17",r:"3.5",stroke:"currentColor",strokeWidth:"2",fill:"none"}),f.jsx("path",{d:"M9.5 9.5L14.5 14.5",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),f.jsx("circle",{cx:"7",cy:"7",r:"1.5",stroke:"currentColor",strokeWidth:"1.2",fill:"none",opacity:"0.5"}),f.jsx("circle",{cx:"17",cy:"17",r:"1.5",stroke:"currentColor",strokeWidth:"1.2",fill:"none",opacity:"0.5"}),f.jsx("path",{d:"M11 11L11.5 11.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.4"}),f.jsx("path",{d:"M12.5 12.5L13 13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.4"}),f.jsx("path",{d:"M5.5 5.5L4 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M8.5 5.5L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M18.5 18.5L20 20",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M15.5 18.5L14 20",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.5"})]})}function Tv({className:i="w-6 h-6"}){return f.jsxs("svg",{className:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"2",fill:"none"}),f.jsx("path",{d:"M9 9C9.5 8.5 10.5 8 11.5 8C12.5 8 13.5 8.5 14 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.7"}),f.jsx("path",{d:"M8.5 11.5C9 11 10 10.5 11 10.5C12 10.5 13 11 13.5 11.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.7"}),f.jsx("path",{d:"M10.5 13.5C11 13 11.5 12.5 12 12.5C12.5 12.5 13 13 13.5 13.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.7"}),f.jsx("circle",{cx:"9",cy:"9",r:"1",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"14",cy:"9",r:"1",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"8.5",cy:"11.5",r:"1",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"13.5",cy:"11.5",r:"1",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"10.5",cy:"13.5",r:"1",fill:"currentColor",opacity:"0.6"}),f.jsx("circle",{cx:"13.5",cy:"13.5",r:"1",fill:"currentColor",opacity:"0.6"}),f.jsx("path",{d:"M7 15.5C7.5 15 8 15 8.5 15C9 15 9.5 15 10 15.5C10.5 16 11 16 11.5 16C12 16 12.5 16 13 15.5C13.5 15 14 15 14.5 15C15 15 15.5 15 16 15.5",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",opacity:"0.5"}),f.jsx("path",{d:"M11 16.5C11 16.5 10.5 17 10.5 17.5C10.5 18 11 18.5 11.5 18.5C12 18.5 12.5 18 12.5 17.5C12.5 17 12 16.5 12 16.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.6"}),f.jsx("path",{d:"M12 16.5C12 16.5 12.5 17 12.5 17.5C12.5 18 12 18.5 11.5 18.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.6"})]})}const Ov=[{id:"MyPelvic",name:"MyPelvic",subtitle:"Salud del piso plvico",description:"Especialistas en salud plvica",gradient:"from-teal-500 to-cyan-600",icon:ap,available:!0},{id:"MyColop",name:"MyColop",subtitle:"Coloproctologa",description:"Cuidado digestivo especializado",gradient:"from-blue-400 to-blue-500",icon:Kl,available:!0}],Pv=[{id:"MyGineco",name:"MyGineco",subtitle:"Ginecologa",description:"Salud reproductiva femenina",gradient:"from-pink-400 to-pink-500",icon:_v,available:!1,badge:"Prximamente"},{id:"MyCardio",name:"MyCardio",subtitle:"Cardiologa",description:"Cuidado cardiovascular",gradient:"from-red-400 to-red-500",icon:xv,available:!1,badge:"Prximamente"},{id:"MyOnco",name:"MyOnco",subtitle:"Oncologa",description:"Tratamiento oncolgico",gradient:"from-purple-400 to-purple-500",icon:kv,available:!1,badge:"Prximamente"},{id:"MyNeuro",name:"MyNeuro",subtitle:"Neurologa",description:"Salud neurolgica",gradient:"from-indigo-400 to-indigo-500",icon:Sv,available:!1,badge:"Prximamente"},{id:"MyNeumo",name:"MyNeumo",subtitle:"Neumologa",description:"Salud respiratoria",gradient:"from-green-400 to-green-500",icon:bv,available:!1,badge:"Prximamente"},{id:"MyPedia",name:"MyPedia",subtitle:"Pediatra",description:"Salud infantil",gradient:"from-yellow-400 to-yellow-500",icon:Ev,available:!1,badge:"Prximamente"},{id:"MyRadio",name:"MyRadio",subtitle:"Radiologa",description:"Imgenes mdicas",gradient:"from-gray-400 to-gray-500",icon:jv,available:!1,badge:"Prximamente"},{id:"MyOrto",name:"MyOrto",subtitle:"Ortopedia",description:"Cuidado seo y articular",gradient:"from-orange-400 to-orange-500",icon:Cv,available:!1,badge:"Prximamente"},{id:"MyPsiqui",name:"MyPsiqui",subtitle:"Psiquiatra",description:"Salud mental",gradient:"from-teal-400 to-teal-500",icon:Tv,available:!1,badge:"Prximamente"}];function Nv({onSelectSpecialty:i}){return f.jsxs(iu,{children:[f.jsx("div",{className:"sticky top-0 z-10 bg-white p-6 border-b border-gray-100 flex-shrink-0",children:f.jsx("div",{className:"flex items-center justify-between mb-1",children:f.jsx("span",{className:"text-sm text-gray-500",children:"08:29 AM"})})}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h1",{className:"text-3xl mb-2",children:"Selecciona tu especialidad"}),f.jsx("p",{className:"text-gray-500 mb-8",children:"Elige el rea de salud que necesitas"}),f.jsxs("div",{className:"space-y-4",children:[Ov.map(r=>f.jsx(Lh,{name:r.name,subtitle:r.subtitle,description:r.description,gradient:r.gradient,icon:r.icon,available:r.available,badge:r.badge,onClick:()=>i(r.id)},r.id)),Pv.map(r=>f.jsx(Lh,{name:r.name,subtitle:r.subtitle,description:r.description,gradient:r.gradient,icon:r.icon,available:r.available,badge:r.badge},r.id)),f.jsx("div",{className:"w-full bg-gray-50 border border-dashed border-gray-300 rounded-2xl p-5 opacity-60 cursor-not-allowed",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-2xl flex items-center justify-center flex-shrink-0",children:f.jsx(cv,{className:"w-7 h-7 text-gray-400"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg mb-1 text-gray-600",children:"Ms especialidades"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Prximamente ms reas de salud"})]})]})})]}),f.jsxs("div",{className:"mt-8 bg-blue-50 rounded-2xl p-4 flex gap-3",children:[f.jsx(tv,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("span",{className:"text-blue-600",children:"Consejo:"})," Puedes cambiar de especialidad en cualquier momento desde tu perfil"]})]})]})})]})}const $h={MyPelvic:{name:"MyPelvic",subtitle:"Salud del piso plvico",gradient:"from-teal-500 to-cyan-600",lightGradient:"from-teal-400 to-cyan-500",bgColor:"teal-500",lightBg:"bg-teal-50",textColor:"text-teal-600",borderColor:"border-teal-300",hoverBorderColor:"hover:border-teal-400"},MyColop:{name:"MyColop",subtitle:"Coloproctologa",gradient:"from-blue-500 to-blue-600",lightGradient:"from-blue-400 to-blue-500",bgColor:"blue-500",lightBg:"bg-blue-50",textColor:"text-blue-600",borderColor:"border-blue-300",hoverBorderColor:"hover:border-blue-400"}},Av=i=>i?$h[i]:$h.MyColop,Rv=i=>z.useMemo(()=>Av(i),[i]);function Iv({specialty:i,onBack:r,onOpenChat:n,onOpenDiagnosis:o,onOpenProfile:l}){const u=Rv(i),p=i?{MyPelvic:ap,MyColop:Kl}[i]:Kl;return f.jsxs(iu,{children:[f.jsxs(op,{gradient:u.gradient,className:"p-6 text-white flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:r,className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:f.jsx(L0,{className:"w-6 h-6"})}),f.jsx("button",{onClick:l,className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:f.jsx(z0,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:f.jsx(p,{className:"w-9 h-9"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl mb-1",children:u.name}),f.jsx("p",{className:"text-white/90",children:u.subtitle})]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:f.jsxs("div",{className:"p-6 pb-8",children:[f.jsx("h2",{className:"text-xl mb-6 text-gray-800",children:"Cmo podemos ayudarte hoy?"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:n,className:"w-full bg-white border-2 border-gray-200 rounded-2xl p-6 hover:shadow-lg hover:border-blue-300 transition-all duration-200 text-left group",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${u.gradient} rounded-2xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform shadow-md`,children:f.jsx(av,{className:"w-7 h-7 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl mb-2",children:"Chat Experto"}),f.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Conversa con nuestro asistente clnico inteligente. Obtn respuestas basadas en nuestra base de conocimiento mdico."})]})]})}),f.jsx("button",{onClick:o,className:"w-full bg-white border-2 border-gray-200 rounded-2xl p-6 hover:shadow-lg hover:border-blue-300 transition-all duration-200 text-left group",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${u.gradient} rounded-2xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform shadow-md`,children:f.jsx(W0,{className:"w-7 h-7 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-xl mb-2",children:"Diagnstico Inteligente"}),f.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Realiza una evaluacin guiada de sntomas para obtener un anlisis preliminar y recomendaciones personalizadas."})]})]})})]}),f.jsx("div",{className:`mt-8 ${u.lightBg} rounded-2xl p-5`,children:f.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[f.jsx("span",{className:"font-medium",children:"Nota importante:"})," Esta herramienta utiliza IA avanzada combinada con documentacin mdica especializada para brindarte informacin precisa."]})})]})})]})}const Lv="ingenieriaxigma@gmail.com";function $v({onBack:i,selectedSpecialty:r,session:n}){const[o,l]=z.useState("knowledge"),[u,d]=z.useState([]),[p,g]=z.useState(!1),[y,v]=z.useState(!1),[S,_]=z.useState(null),[k,C]=z.useState(!1),[P,j]=z.useState(!0);z.useEffect(()=>{(()=>{const J=localStorage.getItem("user_email"),Z=J===Lv;C(Z),j(!1),console.log(Z?" Super admin access granted:":" Access denied to admin panel for user:",J)})()},[]),z.useEffect(()=>{k&&I()},[k]);const I=async()=>{g(!0);try{const V=n?.access_token;if(!V){console.error("No access token available"),g(!1);return}const J=await fetch(`https://${Cr}.supabase.co/functions/v1/make-server-baa51d6b/knowledge/info`,{headers:{Authorization:`Bearer ${V}`}});if(J.ok){const Z=await J.json();d(Z.knowledgeBases||[]),console.log(" Knowledge bases loaded:",Z.knowledgeBases)}else console.error("Failed to load knowledge bases:",await J.text())}catch(V){console.error("Error loading knowledge bases:",V)}finally{g(!1)}},U=async V=>{const J=V.target.files?.[0];if(J){v(!0),_(null);try{const Z=await J.text(),oe=JSON.parse(Z);if(!oe.specialty||!oe.chunks){_({success:!1,message:'Archivo JSON invlido. Debe contener "specialty" y "chunks".'}),v(!1);return}console.log(` Uploading knowledge base: ${oe.specialty}`,{chunks:oe.chunks.length,version:oe.version});const we=n?.access_token;if(!we){_({success:!1,message:"No hay sesin activa. Por favor inicia sesin nuevamente."}),v(!1);return}const fe=await fetch(`https://${Cr}.supabase.co/functions/v1/make-server-baa51d6b/knowledge/upload`,{method:"POST",headers:{Authorization:`Bearer ${we}`,"Content-Type":"application/json"},body:JSON.stringify(oe)}),Re=await fe.json();fe.ok?(_({success:!0,message:Re.message||` Base de conocimiento subida: ${Re.successful}/${Re.processed} chunks procesados`}),console.log(" Knowledge base uploaded successfully:",Re),await I()):(_({success:!1,message:Re.error||"Error al subir la base de conocimiento"}),console.error(" Upload failed:",Re))}catch(Z){_({success:!1,message:`Error: ${Z.message}`}),console.error(" Upload error:",Z)}finally{v(!1),V.target.value=""}}},R=V=>{try{return new Date(V).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return V}},F=V=>V==="MyPelvic"?"from-teal-500 to-cyan-600":V==="MyColop"?"from-blue-500 to-blue-600":"from-gray-500 to-gray-600";return P?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Verificando acceso..."})]})}):k?f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[f.jsx("div",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:f.jsx(Nh,{className:"w-6 h-6 text-gray-700"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl text-gray-900",children:" Panel de Administracin"}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Super Usuario - Gestin Avanzada"})]})]})})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6",children:f.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-2",children:f.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[f.jsxs("button",{onClick:()=>l("knowledge"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap flex-shrink-0 ${o==="knowledge"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[f.jsx(Ah,{className:"w-5 h-5"}),f.jsx("span",{children:"Base de Conocimiento"})]}),f.jsxs("button",{onClick:()=>l("users"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap flex-shrink-0 ${o==="users"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,disabled:!0,children:[f.jsx(Rh,{className:"w-5 h-5"}),f.jsx("span",{children:"Usuarios"}),f.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded",children:"Prximamente"})]}),f.jsxs("button",{onClick:()=>l("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap flex-shrink-0 ${o==="analytics"?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"}`,disabled:!0,children:[f.jsx(Hl,{className:"w-5 h-5"}),f.jsx("span",{children:"Analticas"}),f.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded",children:"Prximamente"})]})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6 pb-8",children:[o==="knowledge"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[f.jsx("div",{className:"flex items-start justify-between mb-4",children:f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl text-gray-900 flex items-center gap-2",children:[f.jsx(Ih,{className:"w-6 h-6 text-blue-500"}),"Subir Base de Conocimiento"]}),f.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Sube un archivo JSON con la informacin mdica para cada especialidad"})]})}),f.jsx("div",{className:"mt-4",children:f.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[f.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[f.jsx(Ih,{className:"w-10 h-10 text-gray-400 mb-2"}),f.jsxs("p",{className:"text-sm text-gray-600",children:[f.jsx("span",{className:"font-semibold",children:"Click para subir"})," o arrastra el archivo"]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["JSON con formato: ","{"," specialty, version, chunks ","}"]})]}),f.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:U,disabled:y})]})}),y&&f.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-500 border-t-transparent"}),f.jsx("span",{className:"text-sm text-blue-700",children:"Procesando y generando embeddings... Esto puede tardar unos minutos."})]})}),S&&f.jsx("div",{className:`mt-4 p-4 rounded-lg border ${S.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:f.jsxs("div",{className:"flex items-start gap-3",children:[S.success?f.jsx(R0,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):f.jsx(D0,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),f.jsx("div",{children:f.jsx("p",{className:`text-sm ${S.success?"text-green-700":"text-red-700"}`,children:S.message})})]})}),f.jsxs("details",{className:"mt-4",children:[f.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-900",children:" Ver formato de ejemplo"}),f.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded-lg text-xs overflow-x-auto",children:`{
  "specialty": "MyColop",
  "version": "1.0",
  "updated_at": "2024-12-13",
  "metadata": {
    "description": "Base de conocimiento de coloproctologa",
    "sources": ["Manual mdico", "Guas clnicas"]
  },
  "chunks": [
    {
      "id": "chunk_001",
      "content": "Las hemorroides son venas inflamadas...",
      "metadata": {
        "topic": "hemorroides",
        "section": "patologas"
      }
    }
  ]
}`})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl text-gray-900",children:" Bases de Conocimiento Activas"}),f.jsx("button",{onClick:I,disabled:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:f.jsx(q0,{className:`w-5 h-5 text-gray-600 ${p?"animate-spin":""}`})})]}),p?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"})}):u.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Ah,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"No hay bases de conocimiento subidas"}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sube tu primer archivo JSON para comenzar"})]}):f.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:u.map(V=>f.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:`bg-gradient-to-r ${F(V.specialty)} p-4`,children:[f.jsx("h3",{className:"text-white text-lg",children:V.specialty}),f.jsx("p",{className:"text-white/80 text-sm mt-1",children:V.description||"Base de conocimiento mdica"})]}),f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600",children:"Versin:"}),f.jsx("span",{className:"text-gray-900",children:V.version})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600",children:"Chunks:"}),f.jsx("span",{className:"text-gray-900 font-semibold",children:V.total_chunks.toLocaleString()})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600",children:"ltima actualizacin:"}),f.jsx("span",{className:"text-gray-900 text-xs",children:R(V.last_upload)})]}),V.sources&&V.sources.length>0&&f.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[f.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Fuentes:"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:V.sources.map((J,Z)=>f.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:J},Z))})]}),f.jsx("div",{className:"pt-3 border-t border-gray-200",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),f.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Activa y funcionando"})]})})]})]},V.specialty))})]})]}),o==="users"&&f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[f.jsx(Rh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl text-gray-900 mb-2",children:"Gestin de Usuarios"}),f.jsx("p",{className:"text-gray-600",children:"Esta funcionalidad estar disponible prximamente"})]}),o==="analytics"&&f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[f.jsx(Hl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl text-gray-900 mb-2",children:"Analticas y Reportes"}),f.jsx("p",{className:"text-gray-600",children:"Esta funcionalidad estar disponible prximamente"})]})]})]}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[f.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:f.jsx(Nh,{className:"w-6 h-6 text-gray-700"})}),f.jsx("div",{children:f.jsx("h1",{className:"text-2xl text-gray-900",children:" Panel de Administracin"})})]})})}),f.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-red-200 p-12 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(hv,{className:"w-10 h-10 text-red-600"})}),f.jsx("h2",{className:"text-2xl text-gray-900 mb-4",children:"Acceso Denegado"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Solo el super administrador tiene acceso a este panel."}),f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:f.jsxs("p",{className:"text-sm text-red-800",children:[f.jsx("strong",{children:"Nota:"})," Si crees que deberas tener acceso, contacta al administrador del sistema."]})}),f.jsx("button",{onClick:i,className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:"Volver al Perfil"})]})})]})}function Dv({isOpen:i,onClose:r,onViewProfile:n,title:o,message:l,details:u,specialty:d}){if(!i)return null;const p=d==="MyPelvic"?{icon:"text-teal-600",iconBg:"bg-teal-100",button:"bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-600 hover:to-cyan-700",accent:"text-teal-600"}:{icon:"text-blue-600",iconBg:"bg-blue-100",button:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",accent:"text-blue-600"};return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fadeIn",children:[f.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),f.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-slideUp",children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Cerrar",children:f.jsx(ip,{size:24})}),f.jsx("div",{className:`w-16 h-16 ${p.iconBg} rounded-full flex items-center justify-center mx-auto mb-4`,children:f.jsx(M0,{size:32,className:p.icon})}),f.jsx("h2",{className:`text-center mb-2 ${p.accent}`,children:o}),f.jsx("p",{className:"text-gray-600 text-center mb-6",children:l}),u&&u.length>0&&f.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 space-y-3",children:u.map((g,y)=>f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-500 text-sm",children:g.label}),f.jsx("span",{className:"text-gray-900",children:g.value})]},y))}),f.jsxs("div",{className:"space-y-3",children:[n&&f.jsxs("button",{onClick:()=>{n(),r()},className:`w-full py-3 px-4 ${p.button} text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2`,children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Ver en Perfil"]}),f.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-all duration-200",children:"Entendido"})]}),f.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:n?"Accede a tu historial completo en cualquier momento":"Puedes ver tus resultados guardados en tu perfil"})]}),f.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }

        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}const Uv=z.lazy(()=>kt(()=>import("./ClinicalChat-Bjf1wcga.js"),__vite__mapDeps([0,1,2,3,4])).then(i=>({default:i.ClinicalChat}))),Mv=z.lazy(()=>kt(()=>import("./DiagnosisStep1-D0qP6kTj.js"),__vite__mapDeps([5,6,7])).then(i=>({default:i.DiagnosisStep1}))),Bv=z.lazy(()=>kt(()=>import("./DiagnosisStep2-DakkdjQ1.js"),__vite__mapDeps([8,6,9])).then(i=>({default:i.DiagnosisStep2}))),zv=z.lazy(()=>kt(()=>import("./DiagnosisStep2Urinary-BaN1tZq7.js"),__vite__mapDeps([10,6,9])).then(i=>({default:i.DiagnosisStep2Urinary}))),Fv=z.lazy(()=>kt(()=>import("./DiagnosisStep2Prolapse-BAb8OJQ1.js"),__vite__mapDeps([11,6,9])).then(i=>({default:i.DiagnosisStep2Prolapse}))),Wv=z.lazy(()=>kt(()=>import("./DiagnosisStep2Sexual-BbUb1aBz.js"),__vite__mapDeps([12,6,9])).then(i=>({default:i.DiagnosisStep2Sexual}))),Vv=z.lazy(()=>kt(()=>import("./DiagnosisStep2Male-Bmb34U-D.js"),__vite__mapDeps([13,6,9])).then(i=>({default:i.DiagnosisStep2Male}))),qv=z.lazy(()=>kt(()=>import("./DiagnosisStep2Trans-e2uJAw_4.js"),__vite__mapDeps([14,6,9])).then(i=>({default:i.DiagnosisStep2Trans}))),Hv=z.lazy(()=>kt(()=>import("./DiagnosisAnalysis-AvsKh7bz.js"),__vite__mapDeps([15,16])).then(i=>({default:i.DiagnosisAnalysis}))),Kv=z.lazy(()=>kt(()=>import("./DiagnosisStep3-CHn3ZeFB.js"),__vite__mapDeps([17,18,19,20,16,7,3])).then(i=>({default:i.DiagnosisStep3}))),Gv=z.lazy(()=>kt(()=>import("./AITreatmentPlan-BWw2Fedo.js"),__vite__mapDeps([21,2,18,1,20,7])).then(i=>({default:i.AITreatmentPlan}))),Jv=z.lazy(()=>kt(()=>import("./ExerciseDetail-Ca8qRFEI.js"),__vite__mapDeps([22,2,18])).then(i=>({default:i.ExerciseDetail}))),Qv=z.lazy(()=>kt(()=>import("./ProfileScreen-D_WlQF38.js"),__vite__mapDeps([23,2,19,7,4])).then(i=>({default:i.ProfileScreen})));function pt(){return f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})})}function Yv(){const{user:i,session:r}=rp(),[n,o]=z.useState("login"),[l,u]=z.useState(null),[d,p]=z.useState({gender:null,ageRange:"",hasSymptoms:!1,healthDescription:""}),[g,y]=z.useState([]),[v,S]=z.useState([]),[_,k]=z.useState([]),[C,P]=z.useState([]),[j,I]=z.useState([]),[U,R]=z.useState([]),[F,V]=z.useState(null),[J,Z]=z.useState("mild"),[oe,we]=z.useState(null),[fe,Re]=z.useState(null),[St,Fe]=z.useState(null),[ot,rt]=z.useState(null),[He,_e]=z.useState(!1),[B,ne]=z.useState(null),[q,E]=z.useState(!1),A=()=>{console.log(" Resetting diagnosis flow..."),p({gender:null,ageRange:"",hasSymptoms:!1,healthDescription:""}),y([]),S([]),k([]),P([]),I([]),R([]),we(null),Re(null),Z("mild"),Fe(null),rt(null)},ae=async()=>{if(!oe||!l||!i||!r){console.error("Missing required data:",{diagnosisResult:!!oe,selectedSpecialty:!!l,user:!!i,session:!!r});return}const ee=[...g,...v,..._,...C,...j,...U].filter(de=>de);console.log(" Saving diagnosis result..."),console.log("User:",i.email),console.log("Session access_token:",r.access_token?"Present":"Missing"),console.log("Diagnosis result:",oe),console.log("Patient data:",d),console.log("All combined symptoms:",ee),console.log("Specialty:",l),console.log("Metadata:",fe);try{const de={diagnosisResult:oe,patientData:d,symptoms:ee,specialty:l,metadata:fe};console.log(" Request body:",JSON.stringify(de,null,2));const at=await fetch(`https://${Cr}.supabase.co/functions/v1/make-server-baa51d6b/diagnosis/save`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(de)});console.log(" Response status:",at.status),console.log(" Response ok:",at.ok);const $e=await at.json();if(console.log(" Response data:",$e),!at.ok)throw console.error(" Server error:",$e),new Error($e.details||$e.error||"Failed to save diagnosis");return console.log(" Diagnosis saved:",$e.diagnosisId),ne({title:"Diagnstico Guardado Exitosamente",message:"Tu diagnstico ha sido guardado correctamente en tu historial mdico.",details:[{label:"Nivel de Urgencia",value:{urgent:"Urgente",moderate:"Moderado",mild:"Leve"}[oe.urgencyLevel]||oe.urgencyLevel},{label:"Diagnsticos Analizados",value:oe.possibleDiagnoses.length.toString()},{label:"Sntomas Evaluados",value:ee.length.toString()}]}),_e(!0),rt($e.diagnosisId),$e.diagnosisId}catch(de){throw console.error(" Error saving diagnosis:",de),console.error(" Error message:",de.message),console.error(" Error stack:",de.stack),alert(`XIGMA - Error al guardar el diagnstico:

${de.message}

Revisa la consola para ms detalles.`),de}},ue=async()=>{if(!oe||!l||!i||!r)return console.error("Missing required data for silent save"),null;const ee=[...g,...v,..._,...C,...j,...U].filter(de=>de);console.log(" Silently saving diagnosis...");try{const de={diagnosisResult:oe,patientData:d,symptoms:ee,specialty:l,metadata:fe},at=await fetch(`https://${Cr}.supabase.co/functions/v1/make-server-baa51d6b/diagnosis/save`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(de)}),$e=await at.json();return at.ok?(console.log(" Diagnosis silently saved:",$e.diagnosisId),rt($e.diagnosisId),$e.diagnosisId):(console.error(" Silent save error:",$e),null)}catch(de){return console.error(" Error in silent save:",de),null}},ce=()=>{const ee=Oh(n,d.gender,d.problemAreas);ee&&o(ee)},le=()=>{const ee=j0(n,d.gender,d.problemAreas);ee&&o(ee)},ve=()=>{console.log("handleLogin called, user:",i),o("specialty-selection")},me=ee=>{u(ee),o("specialty-home")},xe=()=>{u(null),o("specialty-selection")},nt=()=>o("chat"),Xr=()=>o("diagnosis-step1"),Vs=()=>{A(),o("specialty-home")},Zr=()=>o("profile"),Un=()=>o("specialty-home"),Mn=()=>{A(),o("specialty-home")},qs=()=>o("admin"),Bn=()=>o("profile"),Hs=()=>{o("login"),u(null),p({gender:null,ageRange:"",hasSymptoms:!1,healthDescription:""}),y([]),S([]),k([]),P([]),I([]),R([])},zn=ee=>{p(ee);const de=Oh("diagnosis-step1",ee.gender,ee.problemAreas);de&&o(de)},Tr=ee=>{y(ee),ce()},ir=ee=>{S(ee),ce()},Fn=ee=>{k(ee),ce()},Ks=ee=>{P(ee),ce()},Gs=ee=>{I(ee),ce()},Js=ee=>{R(ee),ce()},Qs=(ee,de)=>{console.log(" Diagnosis complete:",ee),we(ee),Re(de),Z(ee.urgencyLevel),o("diagnosis-step3")},Wn=async()=>{!ot&&oe&&l&&i&&r&&(console.log(" Auto-guardando diagnstico silenciosamente antes de ir al plan..."),await ue()),o("treatment-plan")},en=ee=>{V(ee),o("exercise-detail")},Vn=()=>o("treatment-plan"),Or=async ee=>{try{console.log(` Loading treatment plan and diagnosis for: ${ee}`),Fe(null);const de=await fetch(`https://${Cr}.supabase.co/functions/v1/make-server-baa51d6b/diagnosis/${ee}`,{method:"GET",headers:{Authorization:`Bearer ${r?.access_token}`,"Content-Type":"application/json"}});if(!de.ok){const Te=await de.json();throw new Error(Te.error||"Error al cargar el diagnstico")}const at=await de.json();if(console.log(" Diagnosis loaded:",at),at.diagnosis){const Te=at.diagnosis,Hn={urgencyLevel:Te.urgency_level,urgencyTitle:Te.urgency_title,urgencyDescription:Te.urgency_description,urgencyTimeframe:Te.urgency_timeframe,summary:Te.summary,possibleDiagnoses:Te.possible_diagnoses||[],redFlags:Te.red_flags||[],recommendations:Te.recommendations||{immediate:[],lifestyle:[],monitoring:[]},nextSteps:Te.next_steps||[]},Kn={ragUsed:Te.rag_used||!1,chunksFound:Te.chunks_found||0,modelUsed:Te.model_used||"gpt-4o-mini",timestamp:Te.created_at},Gn=Te.patient_data||{gender:null,ageRange:"",hasSymptoms:!1,healthDescription:""},Jn=Te.symptoms||[];we(Hn),Re(Kn),p(Gn),y(Jn),rt(ee)}const $e=await fetch(`https://${Cr}.supabase.co/functions/v1/make-server-baa51d6b/treatment/plan/${ee}`,{method:"GET",headers:{Authorization:`Bearer ${r?.access_token}`,"Content-Type":"application/json"}});if(!$e.ok){if($e.status===404)alert("XIGMA - No se encontr un plan de entrenamiento para este diagnstico.");else{const Te=await $e.json();throw new Error(Te.error||"Error al cargar el plan")}return}const qn=await $e.json();console.log(" Treatment plan loaded:",qn),Fe(qn.treatmentPlan),o("treatment-plan")}catch(de){console.error(" Error loading treatment plan from history:",de),alert(`XIGMA - Error al cargar el plan: ${de.message}`)}};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("div",{className:`${n==="admin"?"":"flex items-center justify-center p-4 min-h-screen"}`,children:f.jsxs("div",{className:`w-full ${n==="admin"?"":"max-w-md h-[844px]"}`,children:[n==="login"&&f.jsx(wv,{onLogin:ve}),n==="specialty-selection"&&f.jsx(Nv,{onSelectSpecialty:me}),n==="specialty-home"&&f.jsx(Iv,{specialty:l,onBack:xe,onOpenChat:nt,onOpenDiagnosis:Xr,onOpenProfile:Zr}),n==="chat"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Uv,{specialty:l,onBack:Vs})}),n==="diagnosis-step1"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Mv,{specialty:l,onBack:()=>{A(),o("specialty-home")},onContinue:zn,initialData:d,onViewHistory:()=>{E(!0),o("profile")}})}),n==="diagnosis-step2"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Bv,{specialty:l,onBack:le,onContinue:Tr,initialSymptoms:g})}),n==="diagnosis-step2-urinary"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(zv,{specialty:l,gender:d.gender,onBack:le,onContinue:ir,initialSymptoms:v})}),n==="diagnosis-step2-prolapse"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Fv,{specialty:l,onBack:le,onContinue:Fn,initialSymptoms:_})}),n==="diagnosis-step2-sexual"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Wv,{specialty:l,gender:d.gender,onBack:le,onContinue:Ks,initialSymptoms:C})}),n==="diagnosis-step2-male"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Vv,{specialty:l,onBack:le,onContinue:Gs,initialSymptoms:j})}),n==="diagnosis-step2-trans"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(qv,{specialty:l,onBack:le,onContinue:Js,initialSymptoms:U})}),n==="diagnosis-analysis"&&(()=>{const ee=[...g,...v,..._,...C,...j,...U].filter(de=>de);return console.log(" All combined symptoms for analysis:",ee),f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Hv,{specialty:l,patientData:d,symptoms:ee,onBack:le,onComplete:Qs})})})(),n==="diagnosis-step3"&&oe&&fe&&(()=>{const ee=[...g,...v,..._,...C,...j,...U].filter(de=>de);return f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Kv,{specialty:l,patientData:d,symptoms:ee,diagnosisResult:oe,metadata:fe,onBack:le,onBackToHome:Mn,onStartTreatmentPlan:Wn,onSaveDiagnosis:ae,onResetDiagnosisFlow:A})})})(),n==="treatment-plan"&&oe&&fe&&(()=>{const ee=[...g,...v,..._,...C,...j,...U].filter(de=>de);return f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Gv,{specialty:l,patientData:d,diagnosisResult:oe,diagnosisMetadata:fe,symptoms:ee,onBack:()=>o("diagnosis-step3"),onBackToHome:Mn,onViewExerciseDetail:en,sessionToken:r?.access_token,existingPlan:St,onPlanGenerated:de=>Fe(de),diagnosisId:ot})})})(),n==="exercise-detail"&&F&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Jv,{specialty:l,exercise:F,onBack:Vn,onComplete:Vn})}),n==="profile"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx(Qv,{specialty:l,onBack:()=>{E(!1),Un()},onLogout:Hs,onOpenAdmin:qs,initialTab:q?"history":"profile",sessionToken:r?.access_token,onViewTreatmentPlan:Or})}),n==="admin"&&f.jsx(z.Suspense,{fallback:f.jsx(pt,{}),children:f.jsx($v,{onBack:Bn,selectedSpecialty:l,session:r})})]})}),He&&B&&l&&f.jsx(Dv,{isOpen:He,title:B.title,message:B.message,details:B.details,specialty:l,onClose:()=>_e(!1),onViewProfile:()=>{_e(!1),E(!0),o("profile")}})]})}cm.createRoot(document.getElementById("root")).render(f.jsx(Yv,{}));export{R0 as C,Hl as F,vv as G,Z0 as H,tv as I,av as M,cv as P,Zv as R,iu as S,gv as U,ip as X,wo as _,$n as a,Yh as b,Ne as c,rp as d,h1 as e,kt as f,Uh as g,D0 as h,L0 as i,f as j,q0 as k,op as l,M0 as m,Us as n,lm as o,Cr as p,iv as q,z as r,nr as s,hv as t,Rv as u,Xv as v};
